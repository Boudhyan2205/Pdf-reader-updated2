//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package license ;import (_ag "bytes";_b "compress/gzip";_c "crypto";_dgc "crypto/aes";_fe "crypto/cipher";_ad "crypto/hmac";_aeg "crypto/rand";_eg "crypto/rsa";_dg "crypto/sha256";_gd "crypto/sha512";_cae "crypto/x509";_bb "encoding/base64";_ed "encoding/hex";
_gc "encoding/json";_d "encoding/pem";_bd "errors";_ea "fmt";_bc "github.com/unidoc/unipdf/v3/common";_g "io";_f "io/ioutil";_e "net";_ge "net/http";_ba "os";_ca "path/filepath";_ae "sort";_cg "strings";_aa "sync";_ce "time";);func (_gcg defaultStateHolder )loadState (_ebgf string )(reportState ,error ){_fgd ,_baee :=_ced ();
if _baee !=nil {return reportState {},_baee ;};_baee =_ba .MkdirAll (_fgd ,0777);if _baee !=nil {return reportState {},_baee ;};if len (_ebgf )< 20{return reportState {},_bd .New ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006b\u0065\u0079");};_bdg :=[]byte (_ebgf );
_aga :=_gd .Sum512_256 (_bdg [:20]);_dfd :=_ed .EncodeToString (_aga [:]);_fd :=_ca .Join (_fgd ,_dfd );_fgg ,_baee :=_f .ReadFile (_fd );if _baee !=nil {if _ba .IsNotExist (_baee ){return reportState {},nil ;};_bc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_baee );
return reportState {},_bd .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061");};const _gfa ="\u0068\u00619\u004e\u004b\u0038]\u0052\u0062\u004c\u002a\u006d\u0034\u004c\u004b\u0057";_fgg ,_baee =_ffc ([]byte (_gfa ),_fgg );if _baee !=nil {return reportState {},_baee ;
};var _aacf reportState ;_baee =_gc .Unmarshal (_fgg ,&_aacf );if _baee !=nil {_bc .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061\u003a\u0020\u0025\u0076",_baee );return reportState {},_bd .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0061\u0074\u0061");
};return _aacf ,nil ;};func _cf (_ee string ,_ga []byte )(string ,error ){_dgca ,_ :=_d .Decode ([]byte (_ee ));if _dgca ==nil {return "",_ea .Errorf ("\u0050\u0072\u0069\u0076\u004b\u0065\u0079\u0020\u0066a\u0069\u006c\u0065\u0064");};_bf ,_ebg :=_cae .ParsePKCS1PrivateKey (_dgca .Bytes );
if _ebg !=nil {return "",_ebg ;};_de :=_gd .New ();_de .Write (_ga );_cgf :=_de .Sum (nil );_bdc ,_ebg :=_eg .SignPKCS1v15 (_aeg .Reader ,_bf ,_c .SHA512 ,_cgf );if _ebg !=nil {return "",_ebg ;};_fg :=_bb .StdEncoding .EncodeToString (_ga );_fg +="\u000a\u002b\u000a";
_fg +=_bb .StdEncoding .EncodeToString (_bdc );return _fg ,nil ;};func _efc (_cbf string ,_cbfa string ,_dga bool )error {if _cgdf ==nil {return _bd .New ("\u006e\u006f\u0020\u006c\u0069\u0063\u0065\u006e\u0073e\u0020\u006b\u0065\u0079");};if !_cgdf ._fad ||len (_cgdf ._ade )==0{return nil ;
};if len (_cbf )==0&&!_dga {return _bd .New ("\u0064\u006f\u0063\u004b\u0065\u0079\u0020\u006e\u006ft\u0020\u0073\u0065\u0074");};_adg .Lock ();defer _adg .Unlock ();if _daf ==nil {_daf =map[string ]struct{}{};};if _bdd ==nil {_bdd =map[string ]int {};
};_fcfc :=0;if len (_cbf )> 0{_ ,_gfgd :=_daf [_cbf ];if !_gfgd {_daf [_cbf ]=struct{}{};_fcfc ++;};};if _fcfc ==0&&!_dga {return nil ;};_bdd [_cbfa ]++;_abb :=_ce .Now ();_afd ,_cab :=_ege .loadState (_cgdf ._ade );if _cab !=nil {_bc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_cab );
return _cab ;};if _afd .Usage ==nil {_afd .Usage =map[string ]int {};};for _dffe ,_bfb :=range _bdd {if _dffe !=""{_afd .Usage [_dffe ]+=_bfb ;};};_bdd =nil ;const _afa =24*_ce .Hour ;const _efb =3*24*_ce .Hour ;if len (_afd .Instance )==0||_abb .Sub (_afd .LastReported )> _afa ||(_afd .LimitDocs &&_afd .RemainingDocs <=_afd .Docs +int64 (_fcfc ))||_dga {_edb ,_abc :=_ba .Hostname ();
if _abc !=nil {return _abc ;};_aea :=_afd .Docs ;_caf ,_cbb ,_abc :=_ecaa ();if _abc !=nil {_bc .Log .Debug ("\u0055\u006e\u0061b\u006c\u0065\u0020\u0074o\u0020\u0067\u0065\u0074\u0020\u006c\u006fc\u0061\u006c\u0020\u0061\u0064\u0064\u0072\u0065\u0073\u0073\u003a\u0020\u0025\u0073",_abc .Error ());
_caf =append (_caf ,"\u0069n\u0066\u006f\u0072\u006da\u0074\u0069\u006f\u006e\u0020n\u006ft\u0020a\u0076\u0061\u0069\u006c\u0061\u0062\u006ce");_cbb =append (_cbb ,"\u0069n\u0066\u006f\u0072\u006da\u0074\u0069\u006f\u006e\u0020n\u006ft\u0020a\u0076\u0061\u0069\u006c\u0061\u0062\u006ce");
}else {_ae .Strings (_cbb );_ae .Strings (_caf );_bfa ,_aaa :=_edf ();if _aaa !=nil {return _aaa ;};_cdf :=false ;for _ ,_edd :=range _cbb {if _edd ==_bfa .String (){_cdf =true ;};};if !_cdf {_cbb =append (_cbb ,_bfa .String ());};};_bab :=_fff ();_bab ._dac =_cgdf ._ade ;
_aea +=int64 (_fcfc );_bce :=meteredUsageCheckinForm {Instance :_afd .Instance ,Next :_afd .Next ,UsageNumber :int (_aea ),NumFailed :_afd .NumErrors ,Hostname :_edb ,LocalIP :_cg .Join (_cbb ,"\u002c\u0020"),MacAddress :_cg .Join (_caf ,"\u002c\u0020"),Package :"\u0075\u006e\u0069\u0070\u0064\u0066",PackageVersion :_bc .Version ,Usage :_afd .Usage ,IsPersistentCache :_cgdf ._bgf ,Timestamp :_abb .Unix ()};
if len (_caf )==0{_bce .MacAddress ="\u006e\u006f\u006e\u0065";};_gfef :=int64 (0);_bdb :=_afd .NumErrors ;_bec :=_abb ;_cda :=0;_egf :=_afd .LimitDocs ;_dbf ,_abc :=_bab .checkinUsage (_bce );if _abc !=nil {if _abb .Sub (_afd .LastReported )> _efb {if !_dbf .Success {return _bd .New (_dbf .Message );
};return _bd .New ("\u0074\u006f\u006f\u0020\u006c\u006f\u006e\u0067\u0020\u0073\u0069\u006e\u0063\u0065\u0020\u006c\u0061\u0073\u0074\u0020\u0073\u0075\u0063\u0063e\u0073\u0073\u0066\u0075\u006c \u0063\u0068e\u0063\u006b\u0069\u006e");};_gfef =_aea ;_bdb ++;
_bec =_afd .LastReported ;}else {_egf =_dbf .LimitDocs ;_cda =_dbf .RemainingDocs ;_bdb =0;};if len (_dbf .Instance )==0{_dbf .Instance =_bce .Instance ;};if len (_dbf .Next )==0{_dbf .Next =_bce .Next ;};_abc =_ege .updateState (_bab ._dac ,_dbf .Instance ,_dbf .Next ,int (_gfef ),_egf ,_cda ,int (_bdb ),_bec ,nil );
if _abc !=nil {return _abc ;};if !_dbf .Success {return _ea .Errorf ("\u0065r\u0072\u006f\u0072\u003a\u0020\u0025s",_dbf .Message );};}else {_cab =_ege .updateState (_cgdf ._ade ,_afd .Instance ,_afd .Next ,int (_afd .Docs )+_fcfc ,_afd .LimitDocs ,int (_afd .RemainingDocs ),int (_afd .NumErrors ),_afd .LastReported ,_afd .Usage );
if _cab !=nil {return _cab ;};};return nil ;};type meteredUsageCheckinResp struct{Instance string `json:"inst"`;Next string `json:"next"`;Success bool `json:"success"`;Message string `json:"message"`;RemainingDocs int `json:"rd"`;LimitDocs bool `json:"ld"`;
};var _ege stateLoader =defaultStateHolder {};func SetMeteredKey (apiKey string )error {if len (apiKey )==0{_bc .Log .Error ("\u004d\u0065\u0074\u0065\u0072e\u0064\u0020\u004c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u0041\u0050\u0049 \u004b\u0065\u0079\u0020\u006d\u0075\u0073\u0074\u0020\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u0065\u006d\u0070\u0074\u0079");
_bc .Log .Error ("\u002d\u0020\u0047\u0072\u0061\u0062\u0020\u006f\u006e\u0065\u0020\u0069\u006e\u0020\u0074h\u0065\u0020\u0046\u0072\u0065\u0065\u0020\u0054\u0069\u0065\u0072\u0020\u0061t\u0020\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0063\u006c\u006fud\u002e\u0075\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");
return _ea .Errorf ("\u006de\u0074\u0065\u0072e\u0064\u0020\u006ci\u0063en\u0073\u0065\u0020\u0061\u0070\u0069\u0020k\u0065\u0079\u0020\u006d\u0075\u0073\u0074\u0020\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u0065\u006d\u0070\u0074\u0079\u003a\u0020\u0063\u0072\u0065\u0061\u0074\u0065 o\u006ee\u0020\u0061\u0074\u0020\u0068\u0074t\u0070\u0073\u003a\u002f\u002fc\u006c\u006f\u0075\u0064\u002e\u0075\u006e\u0069\u0064\u006f\u0063.\u0069\u006f");
};if _cgdf !=nil &&(_cgdf ._fad ||_cgdf .Tier !=LicenseTierUnlicensed ){_bc .Log .Error ("\u0045\u0052\u0052\u004f\u0052:\u0020\u0043\u0061\u006e\u006eo\u0074 \u0073\u0065\u0074\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u006b\u0065\u0079\u0020\u0074\u0077\u0069c\u0065\u0020\u002d\u0020\u0053\u0068\u006f\u0075\u006c\u0064\u0020\u006a\u0075\u0073\u0074\u0020\u0069\u006e\u0069\u0074\u0069\u0061\u006c\u0069z\u0065\u0020\u006f\u006e\u0063\u0065");
return _bd .New ("\u006c\u0069\u0063en\u0073\u0065\u0020\u006b\u0065\u0079\u0020\u0061\u006c\u0072\u0065\u0061\u0064\u0079\u0020\u0073\u0065\u0074");};_baa :=_fff ();_baa ._dac =apiKey ;_dff ,_dgf :=_baa .getStatus ();if _dgf !=nil {return _dgf ;};if !_dff .Valid {return _bd .New ("\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0076\u0061\u006c\u0069\u0064");
};_dag :=&LicenseKey {_fad :true ,_ade :apiKey ,_bgf :true };_cgdf =_dag ;return nil ;};func Track (docKey string ,useKey string )error {return _efc (docKey ,useKey ,!_cgdf ._bgf )};func _ff (_feb string ,_ebe string ,_ged string )(string ,error ){_cea :=_cg .Index (_ged ,_feb );
if _cea ==-1{return "",_ea .Errorf ("\u0068\u0065a\u0064\u0065\u0072 \u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};_deg :=_cg .Index (_ged ,_ebe );if _deg ==-1{return "",_ea .Errorf ("\u0066\u006fo\u0074\u0065\u0072 \u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};_gg :=_cea +len (_feb )+1;return _ged [_gg :_deg -1],nil ;};var _eaf =_ce .Date (2019,6,6,0,0,0,0,_ce .UTC );func _edf ()(_e .IP ,error ){_bfab ,_bdcg :=_e .Dial ("\u0075\u0064\u0070","\u0038\u002e\u0038\u002e\u0038\u002e\u0038\u003a\u0038\u0030");if _bdcg !=nil {return nil ,_bdcg ;
};defer _bfab .Close ();_gege :=_bfab .LocalAddr ().(*_e .UDPAddr );return _gege .IP ,nil ;};func (_feg *LicenseKey )ToString ()string {if _feg ._fad {return "M\u0065t\u0065\u0072\u0065\u0064\u0020\u0073\u0075\u0062s\u0063\u0072\u0069\u0070ti\u006f\u006e";
};_eca :=_ea .Sprintf ("\u004ci\u0063e\u006e\u0073\u0065\u0020\u0049\u0064\u003a\u0020\u0025\u0073\u000a",_feg .LicenseId );_eca +=_ea .Sprintf ("\u0043\u0075s\u0074\u006f\u006de\u0072\u0020\u0049\u0064\u003a\u0020\u0025\u0073\u000a",_feg .CustomerId );
_eca +=_ea .Sprintf ("\u0043u\u0073t\u006f\u006d\u0065\u0072\u0020N\u0061\u006de\u003a\u0020\u0025\u0073\u000a",_feg .CustomerName );_eca +=_ea .Sprintf ("\u0054i\u0065\u0072\u003a\u0020\u0025\u0073\n",_feg .Tier );_eca +=_ea .Sprintf ("\u0043r\u0065a\u0074\u0065\u0064\u0020\u0041\u0074\u003a\u0020\u0025\u0073\u000a",_bc .UtcTimeFormat (_feg .CreatedAt ));
if _feg .ExpiresAt ==nil {_eca +="\u0045x\u0070i\u0072\u0065\u0073\u0020\u0041t\u003a\u0020N\u0065\u0076\u0065\u0072\u000a";}else {_eca +=_ea .Sprintf ("\u0045x\u0070i\u0072\u0065\u0073\u0020\u0041\u0074\u003a\u0020\u0025\u0073\u000a",_bc .UtcTimeFormat (*_feg .ExpiresAt ));
};_eca +=_ea .Sprintf ("\u0043\u0072\u0065\u0061\u0074\u006f\u0072\u003a\u0020\u0025\u0073\u0020<\u0025\u0073\u003e\u000a",_feg .CreatorName ,_feg .CreatorEmail );return _eca ;};const _aed ="\u000a\u002d\u002d\u002d\u002d\u002d\u0042\u0045\u0047\u0049\u004e \u0050\u0055\u0042\u004c\u0049\u0043\u0020\u004b\u0045Y\u002d\u002d\u002d\u002d\u002d\u000a\u004d\u0049I\u0042\u0049\u006a\u0041NB\u0067\u006b\u0071\u0068\u006b\u0069G\u0039\u0077\u0030\u0042\u0041\u0051\u0045\u0046A\u0041\u004f\u0043\u0041\u0051\u0038\u0041\u004d\u0049\u0049\u0042\u0043\u0067\u004b\u0043\u0041\u0051\u0045A\u006dF\u0055\u0069\u0079\u0064\u0037\u0062\u0035\u0058\u006a\u0070\u006b\u0050\u0035\u0052\u0061\u0070\u0034\u0077\u000a\u0044\u0063\u0031d\u0079\u007a\u0049\u0051\u0034\u004c\u0065\u006b\u0078\u0072\u0076\u0079\u0074\u006e\u0045\u004d\u0070\u004e\u0055\u0062\u006f\u0036i\u0041\u0037\u0034\u0056\u0038\u0072\u0075\u005a\u004f\u0076\u0072\u0053\u0063\u0073\u0066\u0032\u0051\u0065\u004e9\u002f\u0071r\u0055\u0047\u0038\u0071\u0045\u0062\u0055\u0057\u0064\u006f\u0045\u0059\u0071+\u000a\u006f\u0074\u0046\u004e\u0041\u0046N\u0078\u006c\u0047\u0062\u0078\u0062\u0044\u0048\u0063\u0064\u0047\u0056\u0061\u004d\u0030\u004f\u0058\u0064\u0058g\u0044y\u004c5\u0061\u0049\u0045\u0061\u0067\u004c\u0030\u0063\u0035\u0070\u0077\u006a\u0049\u0064\u0050G\u0049\u006e\u0034\u0036\u0066\u0037\u0038\u0065\u004d\u004a\u002b\u004a\u006b\u0064\u0063\u0070\u0044\n\u0044\u004a\u0061\u0071\u0059\u0058d\u0072\u007a5\u004b\u0065\u0073\u0068\u006aS\u0069\u0049\u0061\u0061\u0037\u006d\u0065\u006e\u0042\u0049\u0041\u0058\u0053\u0034\u0055\u0046\u0078N\u0066H\u0068\u004e\u0030\u0048\u0043\u0059\u005a\u0059\u0071\u0051\u0047\u0037\u0062K+\u0073\u0035\u0072R\u0048\u006f\u006e\u0079\u0064\u004eW\u0045\u0047\u000a\u0048\u0038M\u0079\u0076\u00722\u0070\u0079\u0061\u0032K\u0072\u004d\u0075m\u0066\u006d\u0041\u0078\u0055\u0042\u0036\u0066\u0065\u006e\u0043\u002f4\u004f\u0030\u0057\u00728\u0067\u0066\u0050\u004f\u0055\u0038R\u0069\u0074\u006d\u0062\u0044\u0076\u0051\u0050\u0049\u0052\u0058\u004fL\u0034\u0076\u0054B\u0072\u0042\u0064\u0062a\u0041\u000a9\u006e\u0077\u004e\u0050\u002b\u0069\u002f\u002f\u0032\u0030\u004d\u00542\u0062\u0078\u006d\u0065\u0057\u0042\u002b\u0067\u0070\u0063\u0045\u0068G\u0070\u0058\u005a7\u0033\u0033\u0061\u007a\u0051\u0078\u0072\u0043\u0033\u004a\u0034\u0076\u0033C\u005a\u006d\u0045\u004eS\u0074\u0044\u004b\u002f\u004b\u0044\u0053\u0050\u004b\u0055\u0047\u0066\u00756\u000a\u0066\u0077I\u0044\u0041\u0051\u0041\u0042\u000a\u002d\u002d\u002d\u002d\u002dE\u004e\u0044\u0020\u0050\u0055\u0042\u004c\u0049\u0043 \u004b\u0045Y\u002d\u002d\u002d\u002d\u002d\n";
func _fff ()*meteredClient {_adb :=meteredClient {_gee :"h\u0074\u0074\u0070\u0073\u003a\u002f/\u0063\u006c\u006f\u0075\u0064\u002e\u0075\u006e\u0069d\u006f\u0063\u002ei\u006f/\u0061\u0070\u0069",_febe :&_ge .Client {Timeout :30*_ce .Second }};if _fag :=_ba .Getenv ("\u0055N\u0049\u0044\u004f\u0043_\u004c\u0049\u0043\u0045\u004eS\u0045_\u0053E\u0052\u0056\u0045\u0052\u005f\u0055\u0052L");
_cg .HasPrefix (_fag ,"\u0068\u0074\u0074\u0070"){_adb ._gee =_fag ;};return &_adb ;};type meteredStatusResp struct{Valid bool `json:"valid"`;OrgCredits int64 `json:"org_credits"`;OrgUsed int64 `json:"org_used"`;OrgRemaining int64 `json:"org_remaining"`;
};var _caa =_ce .Date (2010,1,1,0,0,0,0,_ce .UTC );type defaultStateHolder struct{};func GetLicenseKey ()*LicenseKey {if _cgdf ==nil {return nil ;};_dbe :=*_cgdf ;return &_dbe ;};func _ced ()(string ,error ){_fgdb :=_cg .TrimSpace (_ba .Getenv (_cca ));
if _fgdb ==""{_bc .Log .Debug ("\u0024\u0025\u0073\u0020e\u006e\u0076\u0069\u0072\u006f\u006e\u006d\u0065\u006e\u0074\u0020\u0076\u0061\u0072\u0069\u0061\u0062l\u0065\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e\u0020\u0057\u0069\u006c\u006c\u0020\u0075\u0073\u0065\u0020\u0068\u006f\u006d\u0065\u0020\u0064\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020\u0074\u006f\u0020s\u0074\u006f\u0072\u0065\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020in\u0066o\u0072\u006d\u0061\u0074\u0069\u006f\u006e\u002e",_cca );
_ccg :=_bgd ();if len (_ccg )==0{return "",_ea .Errorf ("r\u0065\u0071\u0075\u0069\u0072\u0065\u0064\u0020\u0024\u0025\u0073\u0020\u0065\u006e\u0076\u0069\u0072\u006f\u006e\u006d\u0065\u006e\u0074\u0020\u0076\u0061r\u0069a\u0062\u006c\u0065\u0020o\u0072\u0020h\u006f\u006d\u0065\u0020\u0064\u0069\u0072\u0065\u0063\u0074\u006f\u0072\u0079\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_cca );
};_fgdb =_ca .Join (_ccg ,"\u002eu\u006e\u0069\u0064\u006f\u0063");};_agd :=_ba .MkdirAll (_fgdb ,0777);if _agd !=nil {return "",_agd ;};return _fgdb ,nil ;};func _ecaa ()([]string ,[]string ,error ){_aaf ,_gbe :=_e .Interfaces ();if _gbe !=nil {return nil ,nil ,_gbe ;
};var _bdf []string ;var _eac []string ;for _ ,_dgab :=range _aaf {if _dgab .Flags &_e .FlagUp ==0||_ag .Equal (_dgab .HardwareAddr ,nil ){continue ;};_abg ,_ggae :=_dgab .Addrs ();if _ggae !=nil {return nil ,nil ,_ggae ;};_bfg :=0;for _ ,_bbdd :=range _abg {var _gef _e .IP ;
switch _bag :=_bbdd .(type ){case *_e .IPNet :_gef =_bag .IP ;case *_e .IPAddr :_gef =_bag .IP ;};if _gef .IsLoopback (){continue ;};if _gef .To4 ()==nil {continue ;};_eac =append (_eac ,_gef .String ());_bfg ++;};_fbb :=_dgab .HardwareAddr .String ();
if _fbb !=""&&_bfg > 0{_bdf =append (_bdf ,_fbb );};};return _bdf ,_eac ,nil ;};func (_degg *meteredClient )getStatus ()(meteredStatusResp ,error ){var _be meteredStatusResp ;_dgcb :=_degg ._gee +"\u002fm\u0065t\u0065\u0072\u0065\u0064\u002f\u0073\u0074\u0061\u0074\u0075\u0073";
var _cgd meteredStatusForm ;_gga ,_age :=_gc .Marshal (_cgd );if _age !=nil {return _be ,_age ;};_dc ,_age :=_gfcb (_gga );if _age !=nil {return _be ,_age ;};_gdf ,_age :=_ge .NewRequest ("\u0050\u004f\u0053\u0054",_dgcb ,_dc );if _age !=nil {return _be ,_age ;
};_gdf .Header .Add ("\u0043\u006f\u006et\u0065\u006e\u0074\u002d\u0054\u0079\u0070\u0065","\u0061\u0070p\u006c\u0069\u0063a\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e");_gdf .Header .Add ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");
_gdf .Header .Add ("\u0041c\u0063e\u0070\u0074\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");_gdf .Header .Add ("\u0058-\u0041\u0050\u0049\u002d\u004b\u0045Y",_degg ._dac );_bae ,_age :=_degg ._febe .Do (_gdf );if _age !=nil {return _be ,_age ;
};defer _bae .Body .Close ();if _bae .StatusCode !=200{return _be ,_ea .Errorf ("\u0066\u0061i\u006c\u0065\u0064\u0020t\u006f\u0020c\u0068\u0065\u0063\u006b\u0069\u006e\u002c\u0020s\u0074\u0061\u0074\u0075\u0073\u0020\u0063\u006f\u0064\u0065\u0020\u0069s\u003a\u0020\u0025\u0064",_bae .StatusCode );
};_cb ,_age :=_fdb (_bae );if _age !=nil {return _be ,_age ;};_age =_gc .Unmarshal (_cb ,&_be );if _age !=nil {return _be ,_age ;};return _be ,nil ;};type stateLoader interface{loadState (_cga string )(reportState ,error );updateState (_cc ,_fce ,_ccf string ,_cac int ,_bef bool ,_gfc int ,_fceg int ,_bge _ce .Time ,_dbb map[string ]int )error ;
};func _gf (_edg string ,_egd string )([]byte ,error ){var (_fc int ;_gad string ;);for _ ,_gad =range []string {"\u000a\u002b\u000a","\u000d\u000a\u002b\r\u000a","\u0020\u002b\u0020"}{if _fc =_cg .Index (_egd ,_gad );_fc !=-1{break ;};};if _fc ==-1{return nil ,_ea .Errorf ("\u0069\u006e\u0076al\u0069\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u002c \u0073i\u0067n\u0061t\u0075\u0072\u0065\u0020\u0073\u0065\u0070\u0061\u0072\u0061\u0074\u006f\u0072");
};_af :=_egd [:_fc ];_aae :=_fc +len (_gad );_ec :=_egd [_aae :];if _af ==""||_ec ==""{return nil ,_ea .Errorf ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0069n\u0070\u0075\u0074,\u0020\u006d\u0069\u0073\u0073\u0069\u006e\u0067\u0020or\u0069\u0067\u0069n\u0061\u006c \u006f\u0072\u0020\u0073\u0069\u0067n\u0061\u0074u\u0072\u0065");
};_gb ,_cd :=_bb .StdEncoding .DecodeString (_af );if _cd !=nil {return nil ,_ea .Errorf ("\u0069\u006e\u0076\u0061li\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u0020\u006f\u0072\u0069\u0067\u0069\u006ea\u006c");};_afe ,_cd :=_bb .StdEncoding .DecodeString (_ec );
if _cd !=nil {return nil ,_ea .Errorf ("\u0069\u006e\u0076al\u0069\u0064\u0020\u0069\u006e\u0070\u0075\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_df ,_ :=_d .Decode ([]byte (_edg ));if _df ==nil {return nil ,_ea .Errorf ("\u0050\u0075\u0062\u004b\u0065\u0079\u0020\u0066\u0061\u0069\u006c\u0065\u0064");
};_fa ,_cd :=_cae .ParsePKIXPublicKey (_df .Bytes );if _cd !=nil {return nil ,_cd ;};_cgc :=_fa .(*_eg .PublicKey );if _cgc ==nil {return nil ,_ea .Errorf ("\u0050u\u0062\u004b\u0065\u0079\u0020\u0063\u006f\u006e\u0076\u0065\u0072s\u0069\u006f\u006e\u0020\u0066\u0061\u0069\u006c\u0065\u0064");
};_edgg :=_gd .New ();_edgg .Write (_gb );_aac :=_edgg .Sum (nil );_cd =_eg .VerifyPKCS1v15 (_cgc ,_c .SHA512 ,_aac ,_afe );if _cd !=nil {return nil ,_cd ;};return _gb ,nil ;};type LicenseKey struct{LicenseId string `json:"license_id"`;CustomerId string `json:"customer_id"`;
CustomerName string `json:"customer_name"`;Tier string `json:"tier"`;CreatedAt _ce .Time `json:"-"`;CreatedAtInt int64 `json:"created_at"`;ExpiresAt *_ce .Time `json:"-"`;ExpiresAtInt int64 `json:"expires_at"`;CreatedBy string `json:"created_by"`;CreatorName string `json:"creator_name"`;
CreatorEmail string `json:"creator_email"`;UniPDF bool `json:"unipdf"`;UniOffice bool `json:"unioffice"`;UniHTML bool `json:"unihtml"`;Trial bool `json:"trial"`;_fad bool ;_ade string ;_bgf bool ;};type reportState struct{Instance string `json:"inst"`;
Next string `json:"n"`;Docs int64 `json:"d"`;NumErrors int64 `json:"e"`;LimitDocs bool `json:"ld"`;RemainingDocs int64 `json:"rd"`;LastReported _ce .Time `json:"lr"`;LastWritten _ce .Time `json:"lw"`;Usage map[string ]int `json:"u"`;};const (_eb ="\u002d\u002d\u002d--\u0042\u0045\u0047\u0049\u004e\u0020\u0055\u004e\u0049D\u004fC\u0020L\u0049C\u0045\u004e\u0053\u0045\u0020\u004b\u0045\u0059\u002d\u002d\u002d\u002d\u002d";
_bbc ="\u002d\u002d\u002d\u002d\u002d\u0045\u004e\u0044\u0020\u0055\u004e\u0049\u0044\u004f\u0043 \u004cI\u0043\u0045\u004e\u0053\u0045\u0020\u004b\u0045\u0059\u002d\u002d\u002d\u002d\u002d";);var _adg =&_aa .Mutex {};type meteredClient struct{_gee string ;
_dac string ;_febe *_ge .Client ;};func _bbd (_cge string )(LicenseKey ,error ){var _bg LicenseKey ;_ab ,_gfb :=_ff (_eb ,_bbc ,_cge );if _gfb !=nil {return _bg ,_gfb ;};_db ,_gfb :=_gf (_aed ,_ab );if _gfb !=nil {return _bg ,_gfb ;};_gfb =_gc .Unmarshal (_db ,&_bg );
if _gfb !=nil {return _bg ,_gfb ;};_bg .CreatedAt =_ce .Unix (_bg .CreatedAtInt ,0);if _bg .ExpiresAtInt > 0{_gca :=_ce .Unix (_bg .ExpiresAtInt ,0);_bg .ExpiresAt =&_gca ;};return _bg ,nil ;};const _fcfg ="U\u004eI\u0050\u0044\u0046\u005f\u0043\u0055\u0053\u0054O\u004d\u0045\u0052\u005fNA\u004d\u0045";
func GetMeteredState ()(MeteredStatus ,error ){if _cgdf ==nil {return MeteredStatus {},_bd .New ("\u006c\u0069\u0063\u0065ns\u0065\u0020\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");};if !_cgdf ._fad ||len (_cgdf ._ade )==0{return MeteredStatus {},_bd .New ("\u0061p\u0069 \u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0073\u0065\u0074");
};_dca ,_acc :=_ege .loadState (_cgdf ._ade );if _acc !=nil {_bc .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_acc );return MeteredStatus {},_acc ;};if _dca .Docs > 0{_gfe :=_efc ("","",true );if _gfe !=nil {return MeteredStatus {},_gfe ;
};};_adg .Lock ();defer _adg .Unlock ();_efg :=_fff ();_efg ._dac =_cgdf ._ade ;_agg ,_acc :=_efg .getStatus ();if _acc !=nil {return MeteredStatus {},_acc ;};if !_agg .Valid {return MeteredStatus {},_bd .New ("\u006b\u0065\u0079\u0020\u006e\u006f\u0074\u0020\u0076\u0061\u006c\u0069\u0064");
};_gfea :=MeteredStatus {OK :true ,Credits :_agg .OrgCredits ,Used :_agg .OrgUsed };return _gfea ,nil ;};func SetLicenseKey (content string ,customerName string )error {_gdd ,_gac :=_bbd (content );if _gac !=nil {_bc .Log .Error ("\u004c\u0069c\u0065\u006e\u0073\u0065\u0020\u0063\u006f\u0064\u0065\u0020\u0064\u0065\u0063\u006f\u0064\u0065\u0020\u0065\u0072\u0072\u006f\u0072: \u0025\u0076",_gac );
return _gac ;};if !_cg .EqualFold (_gdd .CustomerName ,customerName ){_bc .Log .Error ("L\u0069ce\u006es\u0065 \u0063\u006f\u0064\u0065\u0020i\u0073\u0073\u0075e\u0020\u002d\u0020\u0043\u0075s\u0074\u006f\u006de\u0072\u0020\u006e\u0061\u006d\u0065\u0020\u006d\u0069\u0073\u006da\u0074\u0063\u0068, e\u0078\u0070\u0065\u0063\u0074\u0065d\u0020\u0027\u0025\u0073\u0027\u002c\u0020\u0062\u0075\u0074\u0020\u0067o\u0074 \u0027\u0025\u0073\u0027",_gdd .CustomerName ,customerName );
return _ea .Errorf ("\u0063\u0075\u0073\u0074\u006fm\u0065\u0072\u0020\u006e\u0061\u006d\u0065\u0020\u006d\u0069\u0073\u006d\u0061t\u0063\u0068\u002c\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0027\u0025\u0073\u0027\u002c\u0020\u0062\u0075\u0074\u0020\u0067\u006f\u0074\u0020\u0027\u0025\u0073'",_gdd .CustomerName ,customerName );
};_gac =_gdd .Validate ();if _gac !=nil {_bc .Log .Error ("\u004c\u0069\u0063\u0065\u006e\u0073e\u0020\u0063\u006f\u0064\u0065\u0020\u0076\u0061\u006c\u0069\u0064\u0061\u0074i\u006f\u006e\u0020\u0065\u0072\u0072\u006fr\u003a\u0020\u0025\u0076",_gac );return _gac ;
};_cgdf =&_gdd ;return nil ;};var _eea =_ce .Date (2020,1,1,0,0,0,0,_ce .UTC );const _abce ="\u0055\u004e\u0049\u0050DF\u005f\u004c\u0049\u0043\u0045\u004e\u0053\u0045\u005f\u0050\u0041\u0054\u0048";func _gfcb (_bbg []byte )(_g .Reader ,error ){_ebf :=new (_ag .Buffer );
_ede :=_b .NewWriter (_ebf );_ede .Write (_bbg );_ecg :=_ede .Close ();if _ecg !=nil {return nil ,_ecg ;};return _ebf ,nil ;};func (_ggb *LicenseKey )isExpired ()bool {return _ggb .getExpiryDateToCompare ().After (*_ggb .ExpiresAt )};type meteredStatusForm struct{};
var _daf map[string ]struct{};func (_geed defaultStateHolder )updateState (_gagd ,_agc ,_fcg string ,_adbb int ,_fca bool ,_cead int ,_aec int ,_cgcb _ce .Time ,_cgee map[string ]int )error {_ggg ,_eee :=_ced ();if _eee !=nil {return _eee ;};if len (_gagd )< 20{return _bd .New ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006b\u0065\u0079");
};_fcf :=[]byte (_gagd );_cbad :=_gd .Sum512_256 (_fcf [:20]);_cfe :=_ed .EncodeToString (_cbad [:]);_bcc :=_ca .Join (_ggg ,_cfe );var _cgca reportState ;_cgca .Docs =int64 (_adbb );_cgca .NumErrors =int64 (_aec );_cgca .LimitDocs =_fca ;_cgca .RemainingDocs =int64 (_cead );
_cgca .LastWritten =_ce .Now ().UTC ();_cgca .LastReported =_cgcb ;_cgca .Instance =_agc ;_cgca .Next =_fcg ;_cgca .Usage =_cgee ;_eba ,_eee :=_gc .Marshal (_cgca );if _eee !=nil {return _eee ;};const _egeb ="\u0068\u00619\u004e\u004b\u0038]\u0052\u0062\u004c\u002a\u006d\u0034\u004c\u004b\u0057";
_eba ,_eee =_aee ([]byte (_egeb ),_eba );if _eee !=nil {return _eee ;};_eee =_f .WriteFile (_bcc ,_eba ,0600);if _eee !=nil {return _eee ;};return nil ;};func (_eec *LicenseKey )TypeToString ()string {if _eec ._fad {return "M\u0065t\u0065\u0072\u0065\u0064\u0020\u0073\u0075\u0062s\u0063\u0072\u0069\u0070ti\u006f\u006e";
};if _eec .Tier ==LicenseTierUnlicensed {return "\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";};if _eec .Tier ==LicenseTierCommunity {return "\u0041\u0047PL\u0076\u0033\u0020O\u0070\u0065\u006e\u0020Sou\u0072ce\u0020\u0043\u006f\u006d\u006d\u0075\u006eit\u0079\u0020\u004c\u0069\u0063\u0065\u006es\u0065";
};if _eec .Tier ==LicenseTierIndividual ||_eec .Tier =="\u0069\u006e\u0064i\u0065"{return "\u0043\u006f\u006dm\u0065\u0072\u0063\u0069a\u006c\u0020\u004c\u0069\u0063\u0065\u006es\u0065\u0020\u002d\u0020\u0049\u006e\u0064\u0069\u0076\u0069\u0064\u0075\u0061\u006c";
};return "\u0043\u006fm\u006d\u0065\u0072\u0063\u0069\u0061\u006c\u0020\u004c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u002d\u0020\u0042\u0075\u0073\u0069ne\u0073\u0073";};func MakeUnlicensedKey ()*LicenseKey {_fb :=LicenseKey {};_fb .CustomerName ="\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";
_fb .Tier =LicenseTierUnlicensed ;_fb .CreatedAt =_ce .Now ().UTC ();_fb .CreatedAtInt =_fb .CreatedAt .Unix ();return &_fb ;};func _bgd ()string {_fac :=_ba .Getenv ("\u0048\u004f\u004d\u0045");if len (_fac )==0{_fac ,_ =_ba .UserHomeDir ();};return _fac ;
};func SetMeteredKeyPersistentCache (val bool ){_cgdf ._bgf =val };type MeteredStatus struct{OK bool ;Credits int64 ;Used int64 ;};func _ffc (_gddf ,_bfae []byte )([]byte ,error ){_agf :=make ([]byte ,_bb .URLEncoding .DecodedLen (len (_bfae )));_ffgg ,_afgbf :=_bb .URLEncoding .Decode (_agf ,_bfae );
if _afgbf !=nil {return nil ,_afgbf ;};_agf =_agf [:_ffgg ];_eegf ,_afgbf :=_dgc .NewCipher (_gddf );if _afgbf !=nil {return nil ,_afgbf ;};if len (_agf )< _dgc .BlockSize {return nil ,_bd .New ("c\u0069p\u0068\u0065\u0072\u0074\u0065\u0078\u0074\u0020t\u006f\u006f\u0020\u0073ho\u0072\u0074");
};_fgeg :=_agf [:_dgc .BlockSize ];_agf =_agf [_dgc .BlockSize :];_dfg :=_fe .NewCFBDecrypter (_eegf ,_fgeg );_dfg .XORKeyStream (_agf ,_agf );return _agf ,nil ;};func (_da *LicenseKey )getExpiryDateToCompare ()_ce .Time {if _da .Trial {return _ce .Now ().UTC ();
};return _bc .ReleasedAt ;};func _fdb (_aba *_ge .Response )([]byte ,error ){var _cee []byte ;_fgb ,_fdd :=_bbcf (_aba );if _fdd !=nil {return _cee ,_fdd ;};return _f .ReadAll (_fgb );};const _cca ="\u0055N\u0049D\u004f\u0043\u005f\u004c\u0049C\u0045\u004eS\u0045\u005f\u0044\u0049\u0052";
var _bdd map[string ]int ;func _aee (_dcdc ,_eff []byte )([]byte ,error ){_aebg ,_ceaa :=_dgc .NewCipher (_dcdc );if _ceaa !=nil {return nil ,_ceaa ;};_gaa :=make ([]byte ,_dgc .BlockSize +len (_eff ));_dce :=_gaa [:_dgc .BlockSize ];if _ ,_cbe :=_g .ReadFull (_aeg .Reader ,_dce );
_cbe !=nil {return nil ,_cbe ;};_ada :=_fe .NewCFBEncrypter (_aebg ,_dce );_ada .XORKeyStream (_gaa [_dgc .BlockSize :],_eff );_gdc :=make ([]byte ,_bb .URLEncoding .EncodedLen (len (_gaa )));_bb .URLEncoding .Encode (_gdc ,_gaa );return _gdc ,nil ;};func init (){_cdb :=_ba .Getenv (_abce );
_bdbg :=_ba .Getenv (_fcfg );if len (_cdb )==0||len (_bdbg )==0{return ;};_gdg ,_add :=_f .ReadFile (_cdb );if _add !=nil {_bc .Log .Error ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0072\u0065ad \u006cic\u0065\u006e\u0073\u0065\u0020\u0063\u006fde\u0020\u0066\u0069\u006c\u0065\u003a\u0020%\u0076",_add );
return ;};_add =SetLicenseKey (string (_gdg ),_bdbg );if _add !=nil {_bc .Log .Error ("\u0055\u006e\u0061b\u006c\u0065\u0020\u0074o\u0020\u006c\u006f\u0061\u0064\u0020\u006ci\u0063\u0065\u006e\u0073\u0065\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0076",_add );
return ;};};type meteredUsageCheckinForm struct{Instance string `json:"inst"`;Next string `json:"next"`;UsageNumber int `json:"usage_number"`;NumFailed int64 `json:"num_failed"`;Hostname string `json:"hostname"`;LocalIP string `json:"local_ip"`;MacAddress string `json:"mac_address"`;
Package string `json:"package"`;PackageVersion string `json:"package_version"`;Usage map[string ]int `json:"u"`;IsPersistentCache bool `json:"is_persistent_cache"`;Timestamp int64 `json:"timestamp"`;};func (_geg *LicenseKey )IsLicensed ()bool {return _geg .Tier !=LicenseTierUnlicensed ||_geg ._fad };
var _cgdf =MakeUnlicensedKey ();const (LicenseTierUnlicensed ="\u0075\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064";LicenseTierCommunity ="\u0063o\u006d\u006d\u0075\u006e\u0069\u0074y";LicenseTierIndividual ="\u0069\u006e\u0064\u0069\u0076\u0069\u0064\u0075\u0061\u006c";
LicenseTierBusiness ="\u0062\u0075\u0073\u0069\u006e\u0065\u0073\u0073";);func _ebfe (_bcab ,_gda string )string {_cef :=[]byte (_bcab );_cgef :=_ad .New (_dg .New ,_cef );_cgef .Write ([]byte (_gda ));return _bb .StdEncoding .EncodeToString (_cgef .Sum (nil ));
};func TrackUse (useKey string ){if _cgdf ==nil {return ;};if !_cgdf ._fad ||len (_cgdf ._ade )==0{return ;};if len (useKey )==0{return ;};_adg .Lock ();defer _adg .Unlock ();if _bdd ==nil {_bdd =map[string ]int {};};_bdd [useKey ]++;};func (_gdb *meteredClient )checkinUsage (_bfe meteredUsageCheckinForm )(meteredUsageCheckinResp ,error ){_bfe .Package ="\u0075\u006e\u0069\u0070\u0064\u0066";
_bfe .PackageVersion =_bc .Version ;var _bca meteredUsageCheckinResp ;_dcg :=_gdb ._gee +"\u002f\u006d\u0065\u0074er\u0065\u0064\u002f\u0075\u0073\u0061\u0067\u0065\u005f\u0063\u0068\u0065\u0063\u006bi\u006e";_ac ,_ef :=_gc .Marshal (_bfe );if _ef !=nil {return _bca ,_ef ;
};_cgcg ,_ef :=_gfcb (_ac );if _ef !=nil {return _bca ,_ef ;};_dace ,_ef :=_ge .NewRequest ("\u0050\u004f\u0053\u0054",_dcg ,_cgcg );if _ef !=nil {return _bca ,_ef ;};_dace .Header .Add ("\u0043\u006f\u006et\u0065\u006e\u0074\u002d\u0054\u0079\u0070\u0065","\u0061\u0070p\u006c\u0069\u0063a\u0074\u0069\u006f\u006e\u002f\u006a\u0073\u006f\u006e");
_dace .Header .Add ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");_dace .Header .Add ("\u0041c\u0063e\u0070\u0074\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067","\u0067\u007a\u0069\u0070");
_dace .Header .Add ("\u0058-\u0041\u0050\u0049\u002d\u004b\u0045Y",_gdb ._dac );_cba ,_ef :=_gdb ._febe .Do (_dace );if _ef !=nil {return _bca ,_ef ;};defer _cba .Body .Close ();if _cba .StatusCode !=200{_cag ,_bbce :=_fdb (_cba );if _bbce !=nil {return _bca ,_bbce ;
};_bbce =_gc .Unmarshal (_cag ,&_bca );if _bbce !=nil {return _bca ,_bbce ;};return _bca ,_ea .Errorf ("\u0066\u0061i\u006c\u0065\u0064\u0020t\u006f\u0020c\u0068\u0065\u0063\u006b\u0069\u006e\u002c\u0020s\u0074\u0061\u0074\u0075\u0073\u0020\u0063\u006f\u0064\u0065\u0020\u0069s\u003a\u0020\u0025\u0064",_cba .StatusCode );
};_gfg :=_cba .Header .Get ("\u0058\u002d\u0055\u0043\u002d\u0053\u0069\u0067\u006ea\u0074\u0075\u0072\u0065");_geeb :=_ebfe (_bfe .MacAddress ,string (_ac ));if _geeb !=_gfg {_bc .Log .Error ("I\u006e\u0076\u0061l\u0069\u0064\u0020\u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u002c\u0020\u0073\u0065t\u0020\u0074\u0068e\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u0073\u0065\u0072\u0076e\u0072\u0020\u0074\u006f \u0068\u0074\u0074\u0070s\u003a\u002f\u002f\u0063\u006c\u006f\u0075\u0064\u002e\u0075\u006e\u0069\u0064\u006f\u0063\u002e\u0069o\u002f\u0061\u0070\u0069");
return _bca ,_bd .New ("\u0066\u0061\u0069l\u0065\u0064\u0020\u0074\u006f\u0020\u0063\u0068\u0065\u0063\u006b\u0069\u006e\u002c\u0020\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u0073\u0065\u0072\u0076\u0065\u0072 \u0072\u0065\u0073\u0070\u006f\u006e\u0073\u0065");
};_dcd ,_ef :=_fdb (_cba );if _ef !=nil {return _bca ,_ef ;};_ef =_gc .Unmarshal (_dcd ,&_bca );if _ef !=nil {return _bca ,_ef ;};return _bca ,nil ;};func _bbcf (_gae *_ge .Response )(_g .ReadCloser ,error ){var _bfea error ;var _afgb _g .ReadCloser ;switch _cg .ToLower (_gae .Header .Get ("\u0043\u006fn\u0074\u0065\u006et\u002d\u0045\u006e\u0063\u006f\u0064\u0069\u006e\u0067")){case "\u0067\u007a\u0069\u0070":_afgb ,_bfea =_b .NewReader (_gae .Body );
if _bfea !=nil {return _afgb ,_bfea ;};defer _afgb .Close ();default:_afgb =_gae .Body ;};return _afgb ,nil ;};func (_gag *LicenseKey )Validate ()error {if _gag ._fad {return nil ;};if len (_gag .LicenseId )< 10{return _ea .Errorf ("i\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020L\u0069\u0063\u0065n\u0073e\u0020\u0049\u0064");
};if len (_gag .CustomerId )< 10{return _ea .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065:\u0020C\u0075\u0073\u0074\u006f\u006d\u0065\u0072 \u0049\u0064");};if len (_gag .CustomerName )< 1{return _ea .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069c\u0065\u006e\u0073\u0065\u003a\u0020\u0043u\u0073\u0074\u006f\u006d\u0065\u0072\u0020\u004e\u0061\u006d\u0065");
};if _caa .After (_gag .CreatedAt ){return _ea .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u0065\u0064 \u0041\u0074\u0020\u0069\u0073 \u0069\u006ev\u0061\u006c\u0069\u0064");
};if _gag .ExpiresAt ==nil {_afg :=_gag .CreatedAt .AddDate (1,0,0);if _eea .After (_afg ){_afg =_eea ;};_gag .ExpiresAt =&_afg ;};if _gag .CreatedAt .After (*_gag .ExpiresAt ){return _ea .Errorf ("i\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u0065\u0064\u0020\u0041\u0074 \u0063a\u006e\u006e\u006f\u0074 \u0062\u0065 \u0047\u0072\u0065\u0061\u0074\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0045\u0078\u0070\u0069\u0072\u0065\u0073\u0020\u0041\u0074");
};if _gag .isExpired (){_ffg :="\u0054\u0068\u0065\u0020\u006c\u0069c\u0065\u006e\u0073\u0065\u0020\u0068\u0061\u0073\u0020\u0061\u006c\u0072\u0065a\u0064\u0079\u0020\u0065\u0078\u0070\u0069r\u0065\u0064\u002e\u000a"+"\u0059o\u0075\u0020\u006d\u0061y\u0020n\u0065\u0065\u0064\u0020\u0074\u006f\u0020\u0075\u0070d\u0061\u0074\u0065\u0020\u0074\u0068\u0065\u0020l\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u006b\u0065\u0079\u0020t\u006f\u0020\u0074\u0068\u0065\u0020\u006e\u0065\u0077\u0065s\u0074\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020\u006b\u0065\u0079\u0020\u0066\u006f\u0072\u0020\u0079o\u0075\u0072\u0020\u006f\u0072\u0067\u0061\u006e\u0069\u007a\u0061\u0074i\u006fn\u002e\u000a"+"\u0054o\u0020\u0066\u0069\u006ed y\u006f\u0075\u0072\u0020n\u0065\u0077\u0065\u0073\u0074\u0020\u006c\u0069\u0063\u0065n\u0073\u0065\u0020\u006b\u0065\u0079\u002c\u0020\u0067\u006f\u0020\u0074\u006f\u0020\u0068\u0074\u0074\u0070\u0073\u003a\u002f\u002f\u0063l\u006f\u0075\u0064\u002e\u0075\u006e\u0069\u0064oc\u002e\u0069\u006f \u0061\u006e\u0064\u0020\u0067o\u0020t\u006f\u0020\u0074\u0068\u0065\u0020\u006c\u0069\u0063e\u006e\u0073\u0065\u0020\u006d\u0065\u006e\u0075\u002e";
return _ea .Errorf ("\u0069\u006e\u0076\u0061li\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0025\u0073",_ffg );};if len (_gag .CreatorName )< 1{return _ea .Errorf ("\u0069\u006ev\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u003a\u0020\u0043\u0072\u0065\u0061\u0074\u006f\u0072\u0020na\u006d\u0065");
};if len (_gag .CreatorEmail )< 1{return _ea .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069c\u0065\u006e\u0073\u0065\u003a\u0020\u0043r\u0065\u0061\u0074\u006f\u0072\u0020\u0065\u006d\u0061\u0069\u006c");};if _gag .CreatedAt .After (_eaf ){if !_gag .UniPDF {return _ea .Errorf ("\u0069\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065:\u0020\u0054\u0068\u0069\u0073\u0020\u0055\u006e\u0069\u0044\u006f\u0063\u0020k\u0065\u0079\u0020\u0069\u0073\u0020\u0069\u006e\u0076\u0061\u006c\u0069d \u0066\u006f\u0072\u0020\u0055\u006e\u0069\u0050\u0044\u0046");
};};return nil ;};