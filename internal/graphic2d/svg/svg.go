//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package svg ;import (_be "encoding/xml";_f "fmt";_dd "github.com/unidoc/unipdf/v3/common";_dg "github.com/unidoc/unipdf/v3/contentstream";_fac "github.com/unidoc/unipdf/v3/contentstream/draw";_ed "github.com/unidoc/unipdf/v3/internal/graphic2d";_fa "golang.org/x/net/html/charset";
_g "io";_c "math";_ec "os";_ef "strconv";_d "strings";_b "unicode";);func (_fae pathParserError )Error ()string {return _fae ._efea };func (_aba *GraphicSVGStyle )toContentStream (_eee *_dg .ContentCreator ){if _aba ==nil {return ;};if _aba .FillColor !=""{var _dacb ,_gdd ,_eae float64 ;
if _eec ,_fdg :=_ed .ColorMap [_aba .FillColor ];_fdg {_agf ,_eaa ,_fbdg ,_ :=_eec .RGBA ();_dacb ,_gdd ,_eae =float64 (_agf ),float64 (_eaa ),float64 (_fbdg );}else {_dacb ,_gdd ,_eae =_gfgd (_aba .FillColor );};_eee .Add_rg (_dacb ,_gdd ,_eae );};if _aba .StrokeColor !=""{var _fcf ,_gef ,_dea float64 ;
if _dacd ,_caa :=_ed .ColorMap [_aba .StrokeColor ];_caa {_bbe ,_gea ,_edd ,_ :=_dacd .RGBA ();_fcf ,_gef ,_dea =float64 (_bbe )/255.0,float64 (_gea )/255.0,float64 (_edd )/255.0;}else {_fcf ,_gef ,_dea =_gfgd (_aba .StrokeColor );};_eee .Add_RG (_fcf ,_gef ,_dea );
};if _aba .StrokeWidth > 0{_eee .Add_w (_aba .StrokeWidth );};};func _ded (_cde _be .StartElement )*GraphicSVG {_cba :=&GraphicSVG {};_eaf :=make (map[string ]string );for _ ,_dgea :=range _cde .Attr {_eaf [_dgea .Name .Local ]=_dgea .Value ;};_cba .Name =_cde .Name .Local ;
_cba .Attributes =_eaf ;_cba ._ccc =1;if _cba .Name =="\u0073\u0076\u0067"{_bdbc ,_dfb :=_baff (_eaf ["\u0076i\u0065\u0077\u0042\u006f\u0078"]);if _dfb !=nil {_dd .Log .Debug ("\u0055\u006ea\u0062\u006c\u0065\u0020t\u006f\u0020p\u0061\u0072\u0073\u0065\u0020\u0076\u0069\u0065w\u0042\u006f\u0078\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074e\u003a\u0020\u0025\u0076",_dfb );
return nil ;};_cba .ViewBox .X =_bdbc [0];_cba .ViewBox .Y =_bdbc [1];_cba .ViewBox .W =_bdbc [2];_cba .ViewBox .H =_bdbc [3];_cba .Width =_cba .ViewBox .W ;_cba .Height =_cba .ViewBox .H ;if _dfd ,_eafd :=_eaf ["\u0077\u0069\u0064t\u0068"];_eafd {_efff ,_dee :=_ace (_dfd ,64);
if _dee !=nil {_dd .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0077\u0069\u0064\u0074\u0068\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_dee );return nil ;};_cba .Width =_efff ;
};if _bff ,_ebb :=_eaf ["\u0068\u0065\u0069\u0067\u0068\u0074"];_ebb {_ege ,_fcdc :=_ace (_bff ,64);if _fcdc !=nil {_dd .Log .Debug ("\u0055\u006eab\u006c\u0065\u0020t\u006f\u0020\u0070\u0061rse\u0020he\u0069\u0067\u0068\u0074\u0020\u0061\u0074tr\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_fcdc );
return nil ;};_cba .Height =_ege ;};if _cba .Width > 0&&_cba .Height > 0{_cba ._ccc =_cba .Width /_cba .ViewBox .W ;};};return _cba ;};func _ace (_eddd string ,_aedd int )(float64 ,error ){_afg ,_aeb :=_ecea (_eddd );_geb ,_fbfb :=_ef .ParseFloat (_afg ,_aedd );
if _fbfb !=nil {return 0,_fbfb ;};if _bge ,_aag :=_dge [_aeb ];_aag {_geb =_geb *_bge ;}else {_geb =_geb *_ecc ;};return _geb ,nil ;};func (_dcc *GraphicSVG )Decode (decoder *_be .Decoder )error {for {_bbg ,_abge :=decoder .Token ();if _bbg ==nil &&_abge ==_g .EOF {break ;
};if _abge !=nil {return _abge ;};switch _gbf :=_bbg .(type ){case _be .StartElement :_ge :=_ded (_gbf );_gdg :=_ge .Decode (decoder );if _gdg !=nil {return _gdg ;};_dcc .Children =append (_dcc .Children ,_ge );case _be .CharData :_adc :=_d .TrimSpace (string (_gbf ));
if _adc !=""{_dcc .Content =string (_gbf );};case _be .EndElement :if _gbf .Name .Local ==_dcc .Name {return nil ;};};};return nil ;};func _efc (_dac *GraphicSVG ,_fed *_dg .ContentCreator ){_fed .Add_q ();_dac .Style .toContentStream (_fed );_ece ,_abg :=_ace (_dac .Attributes ["\u0078\u0031"],64);
if _abg !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_abg .Error ());};_aefb ,_abg :=_ace (_dac .Attributes ["\u0079\u0031"],64);
if _abg !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_abg .Error ());};_bbf ,_abg :=_ace (_dac .Attributes ["\u0078\u0032"],64);
if _abg !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_abg .Error ());};_egc ,_abg :=_ace (_dac .Attributes ["\u0079\u0032"],64);
if _abg !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_abg .Error ());};_fed .Add_m (_ece *_dac ._ccc ,_aefb *_dac ._ccc );
_fed .Add_l (_bbf *_dac ._ccc ,_egc *_dac ._ccc );if _dac .Style .FillColor !=""&&_dac .Style .StrokeColor !=""{_fed .Add_B ();}else if _dac .Style .FillColor !=""{_fed .Add_f ();}else if _dac .Style .StrokeColor !=""{_fed .Add_S ();};_fed .Add_h ();_fed .Add_Q ();
};func _aeag (_debc string )[]token {var (_eeg []token ;_cebc string ;);for _ ,_abc :=range _debc {_ggd :=string (_abc );switch {case _bad .isCommand (_ggd ):_eeg ,_cebc =_ffa (_eeg ,_cebc );_eeg =append (_eeg ,token {_ggd ,true });case _ggd =="\u002e":if _cebc ==""{_cebc ="\u0030";
};if _d .Contains (_cebc ,_ggd ){_eeg =append (_eeg ,token {_cebc ,false });_cebc ="\u0030";};fallthrough;case _ggd >="\u0030"&&_ggd <="\u0039"||_ggd =="\u0065":_cebc +=_ggd ;case _ggd =="\u002d":if _d .HasSuffix (_cebc ,"\u0065"){_cebc +=_ggd ;}else {_eeg ,_ =_ffa (_eeg ,_cebc );
_cebc =_ggd ;};default:_eeg ,_cebc =_ffa (_eeg ,_cebc );};};_eeg ,_ =_ffa (_eeg ,_cebc );return _eeg ;};func _ce (_dba *GraphicSVG ,_gdf *_dg .ContentCreator ){_gdf .Add_q ();_dba .Style .toContentStream (_gdf );_fg ,_baf :=_ace (_dba .Attributes ["\u0078"],64);
if _baf !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0078\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_baf .Error ());};_gfd ,_baf :=_ace (_dba .Attributes ["\u0079"],64);
if _baf !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0079\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_baf .Error ());};_gc ,_baf :=_ace (_dba .Attributes ["\u0077\u0069\u0064t\u0068"],64);
if _baf !=nil {_dd .Log .Debug ("\u0045\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0077\u0069\u0064\u0074\u0068\u0020v\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_baf .Error ());
};_cgc ,_baf :=_ace (_dba .Attributes ["\u0068\u0065\u0069\u0067\u0068\u0074"],64);if _baf !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0077h\u0069\u006c\u0065 \u0070\u0061\u0072\u0073i\u006e\u0067\u0020\u0073\u0074\u0072\u006f\u006b\u0065\u0020\u0068\u0065\u0069\u0067\u0068\u0074\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_baf .Error ());
};_gdf .Add_re (_fg *_dba ._ccc ,_gfd *_dba ._ccc ,_gc *_dba ._ccc ,_cgc *_dba ._ccc );if _dba .Style .FillColor !=""&&_dba .Style .StrokeColor !=""{_gdf .Add_B ();}else if _dba .Style .FillColor !=""{_gdf .Add_f ();}else if _dba .Style .StrokeColor !=""{_gdf .Add_S ();
};_gdf .Add_Q ();};type pathParserError struct{_efea string };type token struct{_bacb string ;_cbf bool ;};func _ebd (_caf float64 ,_ggg int )float64 {_deec :=_c .Pow (10,float64 (_ggg ));return float64 (_ead (_caf *_deec ))/_deec ;};func _ecf (_aab []float64 )[]float64 {for _feda ,_baad :=0,len (_aab )-1;
_feda < _baad ;_feda ,_baad =_feda +1,_baad -1{_aab [_feda ],_aab [_baad ]=_aab [_baad ],_aab [_feda ];};return _aab ;};func _eda (_edg *GraphicSVG ,_fe *_dg .ContentCreator ){_fe .Add_q ();_edg .Style .toContentStream (_fe );_begc ,_bee :=_ace (_edg .Attributes ["\u0063\u0078"],64);
if _bee !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_bee .Error ());};_fab ,_bee :=_ace (_edg .Attributes ["\u0063\u0079"],64);
if _bee !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_bee .Error ());};_edgf ,_bee :=_ace (_edg .Attributes ["\u0072\u0078"],64);
if _bee !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_bee .Error ());};_dbf ,_bee :=_ace (_edg .Attributes ["\u0072\u0079"],64);
if _bee !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0072\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_bee .Error ());};_ebf :=_edgf *_edg ._ccc ;
_bf :=_dbf *_edg ._ccc ;_gcb :=_begc *_edg ._ccc ;_bab :=_fab *_edg ._ccc ;_cb :=_ebf *_gb ;_ddg :=_bf *_gb ;_cea :=_fac .NewCubicBezierPath ();_cea =_cea .AppendCurve (_fac .NewCubicBezierCurve (-_ebf ,0,-_ebf ,_ddg ,-_cb ,_bf ,0,_bf ));_cea =_cea .AppendCurve (_fac .NewCubicBezierCurve (0,_bf ,_cb ,_bf ,_ebf ,_ddg ,_ebf ,0));
_cea =_cea .AppendCurve (_fac .NewCubicBezierCurve (_ebf ,0,_ebf ,-_ddg ,_cb ,-_bf ,0,-_bf ));_cea =_cea .AppendCurve (_fac .NewCubicBezierCurve (0,-_bf ,-_cb ,-_bf ,-_ebf ,-_ddg ,-_ebf ,0));_cea =_cea .Offset (_gcb ,_bab );if _edg .Style .StrokeWidth > 0{_cea =_cea .Offset (_edg .Style .StrokeWidth /2,_edg .Style .StrokeWidth /2);
};_fac .DrawBezierPathWithCreator (_cea ,_fe );if _edg .Style .FillColor !=""&&_edg .Style .StrokeColor !=""{_fe .Add_B ();}else if _edg .Style .FillColor !=""{_fe .Add_f ();}else if _edg .Style .StrokeColor !=""{_fe .Add_S ();};_fe .Add_h ();_fe .Add_Q ();
};type Command struct{Symbol string ;Params []float64 ;};type GraphicSVG struct{ViewBox struct{X ,Y ,W ,H float64 ;};Name string ;Attributes map[string ]string ;Children []*GraphicSVG ;Content string ;Style *GraphicSVGStyle ;Width float64 ;Height float64 ;
_ccc float64 ;};func _ffa (_bcg []token ,_gcbb string )([]token ,string ){if _gcbb !=""{_bcg =append (_bcg ,token {_gcbb ,false });_gcbb ="";};return _bcg ,_gcbb ;};func _aac (_fcd *GraphicSVG ,_af *_dg .ContentCreator ){_af .Add_q ();_fcd .Style .toContentStream (_af );
_age ,_bdef :=_baff (_fcd .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _bdef !=nil {_dd .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_bdef );
return ;};if len (_age )%2> 0{_dd .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _ddf :=0;_ddf < len (_age );{if _ddf ==0{_af .Add_m (_age [_ddf ]*_fcd ._ccc ,_age [_ddf +1]*_fcd ._ccc );}else {_af .Add_l (_age [_ddf ]*_fcd ._ccc ,_age [_ddf +1]*_fcd ._ccc );};_ddf +=2;};_af .Add_l (_age [0]*_fcd ._ccc ,_age [1]*_fcd ._ccc );
if _fcd .Style .FillColor !=""&&_fcd .Style .StrokeColor !=""{_af .Add_B ();}else if _fcd .Style .FillColor !=""{_af .Add_f ();}else if _fcd .Style .StrokeColor !=""{_af .Add_S ();};_af .Add_h ();_af .Add_Q ();};var (_cce =[]string {"\u0063\u006d","\u006d\u006d","\u0070\u0078","\u0070\u0074"};
_dge =map[string ]float64 {"\u0063\u006d":_cc ,"\u006d\u006d":_ccg ,"\u0070\u0078":_ecc ,"\u0070\u0074":1};);func (_fgbe *Path )compare (_bda *Path )bool {if len (_fgbe .Subpaths )!=len (_bda .Subpaths ){return false ;};for _dad ,_cee :=range _fgbe .Subpaths {if !_cee .compare (_bda .Subpaths [_dad ]){return false ;
};};return true ;};type Subpath struct{Commands []*Command ;};type Path struct{Subpaths []*Subpath ;};func _da (_ff *GraphicSVG ,_a *_dg .ContentCreator ){_a .Add_q ();_ff .Style .toContentStream (_a );_faf ,_cf :=_cbgc (_ff .Attributes ["\u0064"]);if _cf !=nil {_dd .Log .Error ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025s",_cf .Error ());
};var (_ad ,_ffg =0.0,0.0;_ba ,_edb =0.0,0.0;_gf *Command ;);for _ ,_bg :=range _faf .Subpaths {for _ ,_fd :=range _bg .Commands {switch _d .ToLower (_fd .Symbol ){case "\u006d":_ba ,_edb =_fd .Params [0]*_ff ._ccc ,_fd .Params [1]*_ff ._ccc ;if !_fd .isAbsolute (){_ba ,_edb =_ad +_ba -_ff .ViewBox .X ,_ffg +_edb -_ff .ViewBox .Y ;
};_a .Add_m (_ebd (_ba ,3),_ebd (_edb ,3));_ad ,_ffg =_ba ,_edb ;case "\u0063":_dc ,_bd ,_dag ,_eg ,_cd ,_gba :=_fd .Params [0]*_ff ._ccc ,_fd .Params [1]*_ff ._ccc ,_fd .Params [2]*_ff ._ccc ,_fd .Params [3]*_ff ._ccc ,_fd .Params [4]*_ff ._ccc ,_fd .Params [5]*_ff ._ccc ;
if !_fd .isAbsolute (){_dc ,_bd ,_dag ,_eg ,_cd ,_gba =_ad +_dc ,_ffg +_bd ,_ad +_dag ,_ffg +_eg ,_ad +_cd ,_ffg +_gba ;};_a .Add_c (_ebd (_dc ,3),_ebd (_bd ,3),_ebd (_dag ,3),_ebd (_eg ,3),_ebd (_cd ,3),_ebd (_gba ,3));_ad ,_ffg =_cd ,_gba ;case "\u0073":_bec ,_bb ,_dae ,_bgf :=_fd .Params [0]*_ff ._ccc ,_fd .Params [1]*_ff ._ccc ,_fd .Params [2]*_ff ._ccc ,_fd .Params [3]*_ff ._ccc ;
if !_fd .isAbsolute (){_bec ,_bb ,_dae ,_bgf =_ad +_bec ,_ffg +_bb ,_ad +_dae ,_ffg +_bgf ;};_a .Add_c (_ebd (_ad ,3),_ebd (_ffg ,3),_ebd (_bec ,3),_ebd (_bb ,3),_ebd (_dae ,3),_ebd (_bgf ,3));_ad ,_ffg =_dae ,_bgf ;case "\u006c":_efe ,_beb :=_fd .Params [0]*_ff ._ccc ,_fd .Params [1]*_ff ._ccc ;
if !_fd .isAbsolute (){_efe ,_beb =_ad +_efe ,_ffg +_beb ;};_a .Add_l (_ebd (_efe ,3),_ebd (_beb ,3));_ad ,_ffg =_efe ,_beb ;case "\u0068":_ae :=_fd .Params [0]*_ff ._ccc ;if !_fd .isAbsolute (){_ae =_ad +_ae ;};_a .Add_l (_ebd (_ae ,3),_ebd (_ffg ,3));
_ad =_ae ;case "\u0076":_bac :=_fd .Params [0]*_ff ._ccc ;if !_fd .isAbsolute (){_bac =_ffg +_bac ;};_a .Add_l (_ebd (_ad ,3),_ebd (_bac ,3));_ffg =_bac ;case "\u0071":_acg ,_ag ,_bde ,_cg :=_fd .Params [0]*_ff ._ccc ,_fd .Params [1]*_ff ._ccc ,_fd .Params [2]*_ff ._ccc ,_fd .Params [3]*_ff ._ccc ;
if !_fd .isAbsolute (){_acg ,_ag ,_bde ,_cg =_ad +_acg ,_ffg +_ag ,_ad +_bde ,_ffg +_cg ;};_daf ,_bdc :=_ed .QuadraticToCubicBezier (_ad ,_ffg ,_acg ,_ag ,_bde ,_cg );_a .Add_c (_ebd (_daf .X ,3),_ebd (_daf .Y ,3),_ebd (_bdc .X ,3),_ebd (_bdc .Y ,3),_ebd (_bde ,3),_ebd (_cg ,3));
_ad ,_ffg =_bde ,_cg ;case "\u0074":var _dgf ,_cdg _ed .Point ;_df ,_edf :=_fd .Params [0]*_ff ._ccc ,_fd .Params [1]*_ff ._ccc ;if !_fd .isAbsolute (){_df ,_edf =_ad +_df ,_ffg +_edf ;};if _gf !=nil &&_d .ToLower (_gf .Symbol )=="\u0071"{_bbb :=_ed .Point {X :_gf .Params [0]*_ff ._ccc ,Y :_gf .Params [1]*_ff ._ccc };
_fb :=_ed .Point {X :_gf .Params [2]*_ff ._ccc ,Y :_gf .Params [3]*_ff ._ccc };_gd :=_fb .Mul (2.0).Sub (_bbb );_dgf ,_cdg =_ed .QuadraticToCubicBezier (_ad ,_ffg ,_gd .X ,_gd .Y ,_df ,_edf );};_a .Add_c (_ebd (_dgf .X ,3),_ebd (_dgf .Y ,3),_ebd (_cdg .X ,3),_ebd (_cdg .Y ,3),_ebd (_df ,3),_ebd (_edf ,3));
_ad ,_ffg =_df ,_edf ;case "\u0061":_bae ,_bba :=_fd .Params [0]*_ff ._ccc ,_fd .Params [1]*_ff ._ccc ;_gde :=_fd .Params [2];_dfa :=_fd .Params [3]> 0;_fbf :=_fd .Params [4]> 0;_eb ,_dage :=_fd .Params [5]*_ff ._ccc ,_fd .Params [6]*_ff ._ccc ;if !_fd .isAbsolute (){_eb ,_dage =_ad +_eb ,_ffg +_dage ;
};_faca :=_ed .EllipseToCubicBeziers (_ad ,_ffg ,_bae ,_bba ,_gde ,_dfa ,_fbf ,_eb ,_dage );for _ ,_dagb :=range _faca {_a .Add_c (_ebd (_dagb [1].X ,3),_ebd ((_dagb [1].Y ),3),_ebd ((_dagb [2].X ),3),_ebd ((_dagb [2].Y ),3),_ebd ((_dagb [3].X ),3),_ebd ((_dagb [3].Y ),3));
};_ad ,_ffg =_eb ,_dage ;case "\u007a":_a .Add_h ();};_gf =_fd ;};};if _ff .Style .FillColor !=""&&_ff .Style .StrokeColor !=""{_a .Add_B ();}else if _ff .Style .FillColor !=""{_a .Add_f ();}else if _ff .Style .StrokeColor !=""{_a .Add_S ();};_a .Add_h ();
_a .Add_Q ();};func _ffe (_bcf *_be .Decoder )(*GraphicSVG ,error ){for {_eeb ,_agb :=_bcf .Token ();if _eeb ==nil &&_agb ==_g .EOF {break ;};if _agb !=nil {return nil ,_agb ;};switch _afc :=_eeb .(type ){case _be .StartElement :return _ded (_afc ),nil ;
};};return &GraphicSVG {},nil ;};func ParseFromFile (path string )(*GraphicSVG ,error ){_gcf ,_fda :=_ec .Open (path );if _fda !=nil {return nil ,_fda ;};defer _gcf .Close ();return ParseFromStream (_gcf );};func _ead (_aaa float64 )int {return int (_aaa +_c .Copysign (0.5,_aaa ))};
func (_ddge *GraphicSVG )ToContentCreator (cc *_dg .ContentCreator ,scaleX ,scaleY ,translateX ,translateY float64 )*_dg .ContentCreator {if _ddge .Name =="\u0073\u0076\u0067"{_ddge .SetScaling (scaleX ,scaleY );cc .Add_cm (1,0,0,1,translateX ,translateY );
_ddge .setDefaultScaling (_ddge ._ccc );cc .Add_q ();_fga :=_c .Max (scaleX ,scaleY );cc .Add_re (_ddge .ViewBox .X *_fga ,_ddge .ViewBox .Y *_fga ,_ddge .ViewBox .W *_fga ,_ddge .ViewBox .H *_fga );cc .Add_W ();cc .Add_n ();for _ ,_ede :=range _ddge .Children {_ede .ViewBox =_ddge .ViewBox ;
_ede .toContentStream (cc );};cc .Add_Q ();return cc ;};return nil ;};func _ca (_fc *GraphicSVG ,_cfe *_dg .ContentCreator ){_cfe .Add_q ();_fc .Style .toContentStream (_cfe );_beg ,_cdd :=_ace (_fc .Attributes ["\u0063\u0078"],64);if _cdd !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0078\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cdd .Error ());
};_ab ,_cdd :=_ace (_fc .Attributes ["\u0063\u0079"],64);if _cdd !=nil {_dd .Log .Debug ("\u0045\u0072\u0072or\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0061r\u0073i\u006eg\u0020`\u0063\u0079\u0060\u0020\u0076\u0061\u006c\u0075\u0065\u003a\u0020\u0025\u0076",_cdd .Error ());
};_de ,_cdd :=_ace (_fc .Attributes ["\u0072"],64);if _cdd !=nil {_dd .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020w\u0068\u0069\u006c\u0065\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020`\u0072\u0060\u0020\u0076\u0061\u006c\u0075e\u003a\u0020\u0025\u0076",_cdd .Error ());
};_ea :=_de *_fc ._ccc ;_aef :=_de *_fc ._ccc ;_abf :=_ea *_gb ;_bdf :=_aef *_gb ;_bgb :=_fac .NewCubicBezierPath ();_bgb =_bgb .AppendCurve (_fac .NewCubicBezierCurve (-_ea ,0,-_ea ,_bdf ,-_abf ,_aef ,0,_aef ));_bgb =_bgb .AppendCurve (_fac .NewCubicBezierCurve (0,_aef ,_abf ,_aef ,_ea ,_bdf ,_ea ,0));
_bgb =_bgb .AppendCurve (_fac .NewCubicBezierCurve (_ea ,0,_ea ,-_bdf ,_abf ,-_aef ,0,-_aef ));_bgb =_bgb .AppendCurve (_fac .NewCubicBezierCurve (0,-_aef ,-_abf ,-_aef ,-_ea ,-_bdf ,-_ea ,0));_bgb =_bgb .Offset (_beg *_fc ._ccc ,_ab *_fc ._ccc );if _fc .Style .StrokeWidth > 0{_bgb =_bgb .Offset (_fc .Style .StrokeWidth /2,_fc .Style .StrokeWidth /2);
};_fac .DrawBezierPathWithCreator (_bgb ,_cfe );if _fc .Style .FillColor !=""&&_fc .Style .StrokeColor !=""{_cfe .Add_B ();}else if _fc .Style .FillColor !=""{_cfe .Add_f ();}else if _fc .Style .StrokeColor !=""{_cfe .Add_S ();};_cfe .Add_h ();_cfe .Add_Q ();
};func _fgad (_deag string )(_abee []float64 ,_cab error ){var _cdc float64 ;_ged :=0;_gcfb :=true ;for _bce ,_gae :=range _deag {if _gae =='.'{if _gcfb {_gcfb =false ;continue ;};_cdc ,_cab =_ace (_deag [_ged :_bce ],64);if _cab !=nil {return ;};_abee =append (_abee ,_cdc );
_ged =_bce ;};};_cdc ,_cab =_ace (_deag [_ged :],64);if _cab !=nil {return ;};_abee =append (_abee ,_cdc );return ;};type GraphicSVGStyle struct{FillColor string ;StrokeColor string ;StrokeWidth float64 ;};func _baff (_bgde string )([]float64 ,error ){_gdgb :=-1;
var _dace []float64 ;_bebg :=' ';for _cbgb ,_geg :=range _bgde {if !_b .IsNumber (_geg )&&_geg !='.'&&!(_geg =='-'&&_bebg =='e')&&_geg !='e'{if _gdgb !=-1{_begb ,_ggf :=_fgad (_bgde [_gdgb :_cbgb ]);if _ggf !=nil {return _dace ,_ggf ;};_dace =append (_dace ,_begb ...);
};if _geg =='-'{_gdgb =_cbgb ;}else {_gdgb =-1;};}else if _gdgb ==-1{_gdgb =_cbgb ;};_bebg =_geg ;};if _gdgb !=-1&&_gdgb !=len (_bgde ){_bfcf ,_afae :=_fgad (_bgde [_gdgb :]);if _afae !=nil {return _dace ,_afae ;};_dace =append (_dace ,_bfcf ...);};return _dace ,nil ;
};func _cgb (_gbae *GraphicSVG ,_ccgb *_dg .ContentCreator ){_ccgb .Add_q ();_gbae .Style .toContentStream (_ccgb );_abb ,_dga :=_baff (_gbae .Attributes ["\u0070\u006f\u0069\u006e\u0074\u0073"]);if _dga !=nil {_dd .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0075\u006e\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0070\u006f\u0069\u006e\u0074\u0073\u0020\u0061\u0074\u0074\u0072i\u0062\u0075\u0074\u0065\u003a\u0020\u0025\u0076",_dga );
return ;};if len (_abb )%2> 0{_dd .Log .Debug ("\u0045\u0052R\u004f\u0052\u0020\u0069n\u0076\u0061l\u0069\u0064\u0020\u0070\u006f\u0069\u006e\u0074s\u0020\u0061\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u0020\u006ce\u006e\u0067\u0074\u0068");return ;
};for _aa :=0;_aa < len (_abb );{if _aa ==0{_ccgb .Add_m (_abb [_aa ]*_gbae ._ccc ,_abb [_aa +1]*_gbae ._ccc );}else {_ccgb .Add_l (_abb [_aa ]*_gbae ._ccc ,_abb [_aa +1]*_gbae ._ccc );};_aa +=2;};if _gbae .Style .FillColor !=""&&_gbae .Style .StrokeColor !=""{_ccgb .Add_B ();
}else if _gbae .Style .FillColor !=""{_ccgb .Add_f ();}else if _gbae .Style .StrokeColor !=""{_ccgb .Add_S ();};_ccgb .Add_h ();_ccgb .Add_Q ();};func ParseFromStream (source _g .Reader )(*GraphicSVG ,error ){_abad :=_be .NewDecoder (source );_abad .CharsetReader =_fa .NewReaderLabel ;
_agd ,_fcb :=_ffe (_abad );if _fcb !=nil {return nil ,_fcb ;};if _bace :=_agd .Decode (_abad );_bace !=nil &&_bace !=_g .EOF {return nil ,_bace ;};return _agd ,nil ;};func (_eceg *Command )compare (_gdfa *Command )bool {if _eceg .Symbol !=_gdfa .Symbol {return false ;
};for _aefa ,_afag :=range _eceg .Params {if _afag !=_gdfa .Params [_aefa ]{return false ;};};return true ;};const (_ecc =0.72;_cc =28.3464;_ccg =_cc /10;_gb =0.551784;);func _gfgd (_cec string )(_bfe ,_fgaf ,_bfce float64 ){if (len (_cec )!=4&&len (_cec )!=7)||_cec [0]!='#'{_dd .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_cec );
return _bfe ,_fgaf ,_bfce ;};var _gefd ,_adb ,_bbea int ;if len (_cec )==4{var _acge ,_dfea ,_afcc int ;_fad ,_aaad :=_f .Sscanf (_cec ,"\u0023\u0025\u0031\u0078\u0025\u0031\u0078\u0025\u0031\u0078",&_acge ,&_dfea ,&_afcc );if _aaad !=nil {_dd .Log .Debug ("\u0049\u006e\u0076a\u006c\u0069\u0064\u0020h\u0065\u0078\u0020\u0063\u006f\u0064\u0065:\u0020\u0025\u0073\u002c\u0020\u0065\u0072\u0072\u006f\u0072\u003a\u0020\u0025\u0076",_cec ,_aaad );
return _bfe ,_fgaf ,_bfce ;};if _fad !=3{_dd .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_cec );return _bfe ,_fgaf ,_bfce ;};_gefd =_acge *16+_acge ;_adb =_dfea *16+_dfea ;_bbea =_afcc *16+_afcc ;
}else {_adce ,_eegb :=_f .Sscanf (_cec ,"\u0023\u0025\u0032\u0078\u0025\u0032\u0078\u0025\u0032\u0078",&_gefd ,&_adb ,&_bbea );if _eegb !=nil {_dd .Log .Debug ("I\u006ev\u0061\u006c\u0069\u0064\u0020\u0068\u0065\u0078 \u0063\u006f\u0064\u0065: \u0025\u0073",_cec );
return _bfe ,_fgaf ,_bfce ;};if _adce !=3{_dd .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069d\u0020\u0068\u0065\u0078\u0020\u0063\u006f\u0064\u0065\u003a\u0020\u0025\u0073,\u0020\u006e\u0020\u0021\u003d\u0020\u0033 \u0028\u0025\u0064\u0029",_cec ,_adce );
return _bfe ,_fgaf ,_bfce ;};};_ccaf :=float64 (_gefd )/255.0;_dgag :=float64 (_adb )/255.0;_ffag :=float64 (_bbea )/255.0;return _ccaf ,_dgag ,_ffag ;};func _cbgc (_ddd string )(*Path ,error ){_bad =_aacb ();_aff ,_eag :=_dggg (_aeag (_ddd ));if _eag !=nil {return nil ,_eag ;
};return _gfg (_aff ),nil ;};func (_efb *Subpath )compare (_fcfb *Subpath )bool {if len (_efb .Commands )!=len (_fcfb .Commands ){return false ;};for _dagec ,_agbc :=range _efb .Commands {if !_agbc .compare (_fcfb .Commands [_dagec ]){return false ;};};
return true ;};func _gec (_cbe map[string ]string ,_dbd float64 )(*GraphicSVGStyle ,error ){_cbc :=_cdec ();_aeff ,_gge :=_cbe ["\u0066\u0069\u006c\u006c"];if _gge {_cbc .FillColor =_aeff ;if _aeff =="\u006e\u006f\u006e\u0065"{_cbc .FillColor ="";};};_ecee ,_dggc :=_cbe ["\u0073\u0074\u0072\u006f\u006b\u0065"];
if _dggc {_cbc .StrokeColor =_ecee ;if _ecee =="\u006e\u006f\u006e\u0065"{_cbc .StrokeColor ="";};};_cbd ,_fgb :=_cbe ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];if _fgb {_abbg ,_adf :=_ace (_cbd ,64);if _adf !=nil {return nil ,_adf ;
};_cbc .StrokeWidth =_abbg *_dbd ;};return _cbc ,nil ;};func _dggg (_cbg []token )([]*Command ,error ){var (_bfc []*Command ;_ebg []float64 ;);for _agff :=len (_cbg )-1;_agff >=0;_agff --{_feg :=_cbg [_agff ];if _feg ._cbf {_adg :=_bad ._egd [_d .ToLower (_feg ._bacb )];
_fgbb :=len (_ebg );if _adg ==0&&_fgbb ==0{_fce :=&Command {Symbol :_feg ._bacb };_bfc =append ([]*Command {_fce },_bfc ...);}else if _adg !=0&&_fgbb %_adg ==0{_gcde :=_fgbb /_adg ;for _gbff :=0;_gbff < _gcde ;_gbff ++{_dfde :=_feg ._bacb ;if _dfde =="\u006d"&&_gbff < _gcde -1{_dfde ="\u006c";
};if _dfde =="\u004d"&&_gbff < _gcde -1{_dfde ="\u004c";};_fbaf :=&Command {_dfde ,_ecf (_ebg [:_adg ])};_bfc =append ([]*Command {_fbaf },_bfc ...);_ebg =_ebg [_adg :];};}else {_cdb :=pathParserError {"I\u006e\u0063\u006f\u0072\u0072\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072\u0020\u006f\u0066\u0020\u0070\u0061r\u0061\u006d\u0065\u0074\u0065\u0072\u0073\u0020\u0066\u006fr\u0020"+_feg ._bacb };
return nil ,_cdb ;};}else {_abe ,_cbgf :=_ace (_feg ._bacb ,64);if _cbgf !=nil {return nil ,_cbgf ;};_ebg =append (_ebg ,_abe );};};return _bfc ,nil ;};func ParseFromString (svgStr string )(*GraphicSVG ,error ){return ParseFromStream (_d .NewReader (svgStr ));
};func (_ecd *GraphicSVG )toContentStream (_egf *_dg .ContentCreator ){_fafc ,_dfe :=_gec (_ecd .Attributes ,_ecd ._ccc );if _dfe !=nil {_dd .Log .Debug ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073e\u0020\u0073\u0074\u0079\u006c\u0065\u0020a\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065\u003a\u0020%\u0076",_dfe );
};_ecd .Style =_fafc ;switch _ecd .Name {case "\u0070\u0061\u0074\u0068":_da (_ecd ,_egf );for _ ,_bfd :=range _ecd .Children {_bfd .toContentStream (_egf );};case "\u0072\u0065\u0063\u0074":_ce (_ecd ,_egf );for _ ,_aea :=range _ecd .Children {_aea .toContentStream (_egf );
};case "\u0063\u0069\u0072\u0063\u006c\u0065":_ca (_ecd ,_egf );for _ ,_cdf :=range _ecd .Children {_cdf .toContentStream (_egf );};case "\u0065l\u006c\u0069\u0070\u0073\u0065":_eda (_ecd ,_egf );for _ ,_cag :=range _ecd .Children {_cag .toContentStream (_egf );
};case "\u0070\u006f\u006c\u0079\u006c\u0069\u006e\u0065":_cgb (_ecd ,_egf );for _ ,_cca :=range _ecd .Children {_cca .toContentStream (_egf );};case "\u0070o\u006c\u0079\u0067\u006f\u006e":_aac (_ecd ,_egf );for _ ,_deg :=range _ecd .Children {_deg .toContentStream (_egf );
};case "\u006c\u0069\u006e\u0065":_efc (_ecd ,_egf );for _ ,_bdefd :=range _ecd .Children {_bdefd .toContentStream (_egf );};case "\u0067":_fbd ,_afa :=_ecd .Attributes ["\u0066\u0069\u006c\u006c"];_gg ,_bfa :=_ecd .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];
_edc ,_dgg :=_ecd .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];for _ ,_edbd :=range _ecd .Children {if _ ,_fdc :=_edbd .Attributes ["\u0066\u0069\u006c\u006c"];!_fdc &&_afa {_edbd .Attributes ["\u0066\u0069\u006c\u006c"]=_fbd ;
};if _ ,_bgc :=_edbd .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"];!_bgc &&_bfa {_edbd .Attributes ["\u0073\u0074\u0072\u006f\u006b\u0065"]=_gg ;};if _ ,_gcd :=_edbd .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"];
!_gcd &&_dgg {_edbd .Attributes ["\u0073\u0074\u0072o\u006b\u0065\u002d\u0077\u0069\u0064\u0074\u0068"]=_edc ;};_edbd .toContentStream (_egf );};};};func _aacb ()commands {var _ecg =map[string ]int {"\u006d":2,"\u007a":0,"\u006c":2,"\u0068":1,"\u0076":1,"\u0063":6,"\u0073":4,"\u0071":4,"\u0074":2,"\u0061":7};
var _aed []string ;for _bdd :=range _ecg {_aed =append (_aed ,_bdd );};return commands {_aed ,_ecg ,"\u006d","\u007a"};};func (_efef *commands )isCommand (_dgc string )bool {for _ ,_agc :=range _efef ._deaa {if _d .ToLower (_dgc )==_agc {return true ;};
};return false ;};func (_gbg *Command )isAbsolute ()bool {return _gbg .Symbol ==_d .ToUpper (_gbg .Symbol )};func _ecea (_fege string )(_bdeca ,_dgee string ){if _fege ==""||(_fege [len (_fege )-1]>='0'&&_fege [len (_fege )-1]<='9'){return _fege ,"";};
_bdeca =_fege ;for _ ,_ccb :=range _cce {if _d .Contains (_bdeca ,_ccb ){_dgee =_ccb ;};_bdeca =_d .TrimSuffix (_bdeca ,_ccb );};return ;};func (_efa *GraphicSVG )SetScaling (xFactor ,yFactor float64 ){_cgbb :=_efa .Width /_efa .ViewBox .W ;_cga :=_efa .Height /_efa .ViewBox .H ;
_efa .setDefaultScaling (_c .Max (_cgbb ,_cga ));for _ ,_baa :=range _efa .Children {_baa .SetScaling (xFactor ,yFactor );};};func (_dce *GraphicSVG )setDefaultScaling (_gfe float64 ){_dce ._ccc =_gfe ;if _dce .Style !=nil &&_dce .Style .StrokeWidth > 0{_dce .Style .StrokeWidth =_dce .Style .StrokeWidth *_dce ._ccc ;
};for _ ,_fbdc :=range _dce .Children {_fbdc .setDefaultScaling (_gfe );};};type commands struct{_deaa []string ;_egd map[string ]int ;_fdf string ;_deb string ;};func _cdec ()*GraphicSVGStyle {return &GraphicSVGStyle {FillColor :"\u00230\u0030\u0030\u0030\u0030\u0030",StrokeColor :"",StrokeWidth :0};
};var _bad commands ;func _gfg (_bbga []*Command )*Path {_fca :=&Path {};var _fgd []*Command ;for _cgcc ,_eceb :=range _bbga {switch _d .ToLower (_eceb .Symbol ){case _bad ._fdf :if len (_fgd )> 0{_fca .Subpaths =append (_fca .Subpaths ,&Subpath {_fgd });
};_fgd =[]*Command {_eceb };case _bad ._deb :_fgd =append (_fgd ,_eceb );_fca .Subpaths =append (_fca .Subpaths ,&Subpath {_fgd });_fgd =[]*Command {};default:_fgd =append (_fgd ,_eceb );if len (_bbga )==_cgcc +1{_fca .Subpaths =append (_fca .Subpaths ,&Subpath {_fgd });
};};};return _fca ;};