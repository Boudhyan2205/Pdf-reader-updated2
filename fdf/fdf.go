//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_bd "bufio";_eb "bytes";_fe "encoding/hex";_d "errors";_f "fmt";_de "github.com/unidoc/unipdf/v3/common";_db "github.com/unidoc/unipdf/v3/core";_bf "io";_a "os";_ec "regexp";_gf "sort";_g "strconv";_b "strings";);func (_aeb *fdfParser )parseNull ()(_db .PdfObjectNull ,error ){_ ,_bfa :=_aeb ._fcc .Discard (4);
return _db .PdfObjectNull {},_bfa ;};var _bdd =_ec .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func _fdf (_ggge _bf .ReadSeeker )(*fdfParser ,error ){_begf :=&fdfParser {};_begf ._eba =_ggge ;
_begf ._edc =map[int64 ]_db .PdfObject {};_fagc ,_cfcc ,_gfdf :=_begf .parseFdfVersion ();if _gfdf !=nil {_de .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_gfdf );
return nil ,_gfdf ;};_begf ._fc =_fagc ;_begf ._ggbc =_cfcc ;_gfdf =_begf .parse ();return _begf ,_gfdf ;};func (_gcf *fdfParser )parseNumber ()(_db .PdfObject ,error ){return _db .ParseNumber (_gcf ._fcc )};var _abdg =_ec .MustCompile ("\u0025\u0025\u0045O\u0046");
func (_fac *fdfParser )parseBool ()(_db .PdfObjectBool ,error ){_ccb ,_cbb :=_fac ._fcc .Peek (4);if _cbb !=nil {return _db .PdfObjectBool (false ),_cbb ;};if (len (_ccb )>=4)&&(string (_ccb [:4])=="\u0074\u0072\u0075\u0065"){_fac ._fcc .Discard (4);return _db .PdfObjectBool (true ),nil ;
};_ccb ,_cbb =_fac ._fcc .Peek (5);if _cbb !=nil {return _db .PdfObjectBool (false ),_cbb ;};if (len (_ccb )>=5)&&(string (_ccb [:5])=="\u0066\u0061\u006cs\u0065"){_fac ._fcc .Discard (5);return _db .PdfObjectBool (false ),nil ;};return _db .PdfObjectBool (false ),_d .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");
};var _fb =_ec .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");type fdfParser struct{_fc int ;_ggbc int ;_edc map[int64 ]_db .PdfObject ;_eba _bf .ReadSeeker ;_fcc *_bd .Reader ;_afad int64 ;
_bg *_db .PdfObjectDictionary ;};func (_gea *fdfParser )getFileOffset ()int64 {_fa ,_ :=_gea ._eba .Seek (0,_bf .SeekCurrent );_fa -=int64 (_gea ._fcc .Buffered ());return _fa ;};func (_eea *fdfParser )readTextLine ()(string ,error ){var _adc _eb .Buffer ;
for {_fbb ,_gdag :=_eea ._fcc .Peek (1);if _gdag !=nil {_de .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_gdag .Error ());return _adc .String (),_gdag ;};if (_fbb [0]!='\r')&&(_fbb [0]!='\n'){_ddb ,_ :=_eea ._fcc .ReadByte ();_adc .WriteByte (_ddb );
}else {break ;};};return _adc .String (),nil ;};func (_ac *fdfParser )skipComments ()error {if _ ,_bfb :=_ac .skipSpaces ();_bfb !=nil {return _bfb ;};_gfca :=true ;for {_fg ,_cfc :=_ac ._fcc .Peek (1);if _cfc !=nil {_de .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_cfc .Error ());
return _cfc ;};if _gfca &&_fg [0]!='%'{return nil ;};_gfca =false ;if (_fg [0]!='\r')&&(_fg [0]!='\n'){_ac ._fcc .ReadByte ();}else {break ;};};return _ac .skipComments ();};func _ag (_bdb string )(*fdfParser ,error ){_fcbb :=fdfParser {};_cgc :=[]byte (_bdb );
_fbe :=_eb .NewReader (_cgc );_fcbb ._eba =_fbe ;_fcbb ._edc =map[int64 ]_db .PdfObject {};_ccf :=_bd .NewReader (_fbe );_fcbb ._fcc =_ccf ;_fcbb ._afad =int64 (len (_bdb ));return &_fcbb ,_fcbb .parse ();};

// Data represents forms data format (FDF) file data.
type Data struct{_ad *_db .PdfObjectDictionary ;_ab *_db .PdfObjectArray ;};func (_gc *fdfParser )readComment ()(string ,error ){var _gfd _eb .Buffer ;_ ,_aa :=_gc .skipSpaces ();if _aa !=nil {return _gfd .String (),_aa ;};_dg :=true ;for {_gfdd ,_bcdd :=_gc ._fcc .Peek (1);
if _bcdd !=nil {_de .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_bcdd .Error ());return _gfd .String (),_bcdd ;};if _dg &&_gfdd [0]!='%'{return _gfd .String (),_d .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");
};_dg =false ;if (_gfdd [0]!='\r')&&(_gfdd [0]!='\n'){_df ,_ :=_gc ._fcc .ReadByte ();_gfd .WriteByte (_df );}else {break ;};};return _gfd .String (),nil ;};func _gfa (_fbd string )(_db .PdfObjectReference ,error ){_dbd :=_db .PdfObjectReference {};_dfa :=_fb .FindStringSubmatch (_fbd );
if len (_dfa )< 3{_de .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _dbd ,_d .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");
};_ccbd ,_ae :=_g .Atoi (_dfa [1]);if _ae !=nil {_de .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_dfa [1]);
return _dbd ,nil ;};_dbd .ObjectNumber =int64 (_ccbd );_cga ,_ae :=_g .Atoi (_dfa [2]);if _ae !=nil {_de .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_dfa [2]);
return _dbd ,nil ;};_dbd .GenerationNumber =int64 (_cga );return _dbd ,nil ;};func (_gda *fdfParser )setFileOffset (_bc int64 ){_gda ._eba .Seek (_bc ,_bf .SeekStart );_gda ._fcc =_bd .NewReader (_gda ._eba );};func (_cdc *fdfParser )trace (_dfg _db .PdfObject )_db .PdfObject {switch _cde :=_dfg .(type ){case *_db .PdfObjectReference :_dgg ,_bdf :=_cdc ._edc [_cde .ObjectNumber ].(*_db .PdfIndirectObject );
if _bdf {return _dgg .PdfObject ;};_de .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_db .PdfIndirectObject :return _cde .PdfObject ;};return _dfg ;};func (_gdb *fdfParser )parseFdfVersion ()(int ,int ,error ){_gdb ._eba .Seek (0,_bf .SeekStart );
_cec :=20;_fdb :=make ([]byte ,_cec );_gdb ._eba .Read (_fdb );_dbb :=_bcd .FindStringSubmatch (string (_fdb ));if len (_dbb )< 3{_cae ,_fef ,_cee :=_gdb .seekFdfVersionTopDown ();if _cee !=nil {_de .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");
return 0,0,_cee ;};return _cae ,_fef ,nil ;};_ccc ,_cgdc :=_g .Atoi (_dbb [1]);if _cgdc !=nil {return 0,0,_cgdc ;};_dcb ,_cgdc :=_g .Atoi (_dbb [2]);if _cgdc !=nil {return 0,0,_cgdc ;};_de .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_ccc ,_dcb );
return _ccc ,_dcb ,nil ;};func (_fga *fdfParser )parseName ()(_db .PdfObjectName ,error ){var _fgg _eb .Buffer ;_eec :=false ;for {_ef ,_fgab :=_fga ._fcc .Peek (1);if _fgab ==_bf .EOF {break ;};if _fgab !=nil {return _db .PdfObjectName (_fgg .String ()),_fgab ;
};if !_eec {if _ef [0]=='/'{_eec =true ;_fga ._fcc .ReadByte ();}else if _ef [0]=='%'{_fga .readComment ();_fga .skipSpaces ();}else {_de .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_ef ,_ef );
return _db .PdfObjectName (_fgg .String ()),_f .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_ef [0]);};}else {if _db .IsWhiteSpace (_ef [0]){break ;}else if (_ef [0]=='/')||(_ef [0]=='[')||(_ef [0]=='(')||(_ef [0]==']')||(_ef [0]=='<')||(_ef [0]=='>'){break ;
}else if _ef [0]=='#'{_efe ,_gga :=_fga ._fcc .Peek (3);if _gga !=nil {return _db .PdfObjectName (_fgg .String ()),_gga ;};_fga ._fcc .Discard (3);_fde ,_gga :=_fe .DecodeString (string (_efe [1:3]));if _gga !=nil {return _db .PdfObjectName (_fgg .String ()),_gga ;
};_fgg .Write (_fde );}else {_dec ,_ :=_fga ._fcc .ReadByte ();_fgg .WriteByte (_dec );};};};return _db .PdfObjectName (_fgg .String ()),nil ;};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_af ,_dc :=_a .Open (fdfPath );if _dc !=nil {return nil ,_dc ;};defer _af .Close ();return Load (_af );};func (_bb *fdfParser )skipSpaces ()(int ,error ){_ecc :=0;for {_cgb ,_cgd :=_bb ._fcc .ReadByte ();
if _cgd !=nil {return 0,_cgd ;};if _db .IsWhiteSpace (_cgb ){_ecc ++;}else {_bb ._fcc .UnreadByte ();break ;};};return _ecc ,nil ;};func (_afd *fdfParser )parseHexString ()(*_db .PdfObjectString ,error ){_afd ._fcc .ReadByte ();var _dcg _eb .Buffer ;for {_gfg ,_egg :=_afd ._fcc .Peek (1);
if _egg !=nil {return _db .MakeHexString (""),_egg ;};if _gfg [0]=='>'{_afd ._fcc .ReadByte ();break ;};_fag ,_ :=_afd ._fcc .ReadByte ();if !_db .IsWhiteSpace (_fag ){_dcg .WriteByte (_fag );};};if _dcg .Len ()%2==1{_dcg .WriteRune ('0');};_bba ,_dda :=_fe .DecodeString (_dcg .String ());
if _dda !=nil {_de .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_dcg .String ());
return _db .MakeHexString (""),nil ;};return _db .MakeHexString (string (_bba )),nil ;};var _gge =_ec .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_bee *fdfParser )parseString ()(*_db .PdfObjectString ,error ){_bee ._fcc .ReadByte ();
var _cfd _eb .Buffer ;_gdf :=1;for {_egc ,_bea :=_bee ._fcc .Peek (1);if _bea !=nil {return _db .MakeString (_cfd .String ()),_bea ;};if _egc [0]=='\\'{_bee ._fcc .ReadByte ();_gcb ,_ecd :=_bee ._fcc .ReadByte ();if _ecd !=nil {return _db .MakeString (_cfd .String ()),_ecd ;
};if _db .IsOctalDigit (_gcb ){_feg ,_ce :=_bee ._fcc .Peek (2);if _ce !=nil {return _db .MakeString (_cfd .String ()),_ce ;};var _cgf []byte ;_cgf =append (_cgf ,_gcb );for _ ,_cdf :=range _feg {if _db .IsOctalDigit (_cdf ){_cgf =append (_cgf ,_cdf );
}else {break ;};};_bee ._fcc .Discard (len (_cgf )-1);_de .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_cgf );_ca ,_ce :=_g .ParseUint (string (_cgf ),8,32);if _ce !=nil {return _db .MakeString (_cfd .String ()),_ce ;
};_cfd .WriteByte (byte (_ca ));continue ;};switch _gcb {case 'n':_cfd .WriteRune ('\n');case 'r':_cfd .WriteRune ('\r');case 't':_cfd .WriteRune ('\t');case 'b':_cfd .WriteRune ('\b');case 'f':_cfd .WriteRune ('\f');case '(':_cfd .WriteRune ('(');case ')':_cfd .WriteRune (')');
case '\\':_cfd .WriteRune ('\\');};continue ;}else if _egc [0]=='('{_gdf ++;}else if _egc [0]==')'{_gdf --;if _gdf ==0{_bee ._fcc .ReadByte ();break ;};};_gce ,_ :=_bee ._fcc .ReadByte ();_cfd .WriteByte (_gce );};return _db .MakeString (_cfd .String ()),nil ;
};var _bcd =_ec .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_eg *fdfParser )readAtLeast (_da []byte ,_cd int )(int ,error ){_egd :=_cd ;_cb :=0;_ge :=0;for _egd > 0{_fd ,_fdg :=_eg ._fcc .Read (_da [_cb :]);
if _fdg !=nil {_de .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_fd ,_ge ,_fdg .Error ());return _cb ,_d .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");
};_ge ++;_cb +=_fd ;_egd -=_fd ;};return _cb ,nil ;};var _cc =_ec .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");


// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_db .PdfObject ,error ){_cf ,_afe :=fdf .FieldDictionaries ();if _afe !=nil {return nil ,_afe ;};var _gb []string ;for _gg :=range _cf {_gb =append (_gb ,_gg );};_gf .Strings (_gb );_ee :=map[string ]_db .PdfObject {};
for _ ,_afa :=range _gb {_gfc :=_cf [_afa ];_edb :=_db .TraceToDirectObject (_gfc .Get ("\u0056"));_ee [_afa ]=_edb ;};return _ee ,nil ;};func (_dbg *fdfParser )parseIndirectObject ()(_db .PdfObject ,error ){_ega :=_db .PdfIndirectObject {};_de .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");
_baa ,_ddbb :=_dbg ._fcc .Peek (20);if _ddbb !=nil {_de .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return &_ega ,_ddbb ;};_de .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_baa ));_gde :=_gge .FindStringSubmatchIndex (string (_baa ));if len (_gde )< 6{_de .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_baa ));
return &_ega ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_dbg ._fcc .Discard (_gde [0]);_de .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_gde );_afg :=_gde [1]-_gde [0];_dea :=make ([]byte ,_afg );_ ,_ddbb =_dbg .readAtLeast (_dea ,_afg );if _ddbb !=nil {_de .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_ddbb );
return nil ,_ddbb ;};_de .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_dea );_cfb :=_gge .FindStringSubmatch (string (_dea ));if len (_cfb )< 3{_de .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_dea ));
return &_ega ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_fdbc ,_ :=_g .Atoi (_cfb [1]);_bfg ,_ :=_g .Atoi (_cfb [2]);_ega .ObjectNumber =int64 (_fdbc );_ega .GenerationNumber =int64 (_bfg );for {_fca ,_aaa :=_dbg ._fcc .Peek (2);if _aaa !=nil {return &_ega ,_aaa ;};_de .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_fca ),string (_fca ));
if _db .IsWhiteSpace (_fca [0]){_dbg .skipSpaces ();}else if _fca [0]=='%'{_dbg .skipComments ();}else if (_fca [0]=='<')&&(_fca [1]=='<'){_de .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_ega .PdfObject ,_aaa =_dbg .parseDict ();
_de .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_aaa );if _aaa !=nil {return &_ega ,_aaa ;};_de .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");
}else if (_fca [0]=='/')||(_fca [0]=='(')||(_fca [0]=='[')||(_fca [0]=='<'){_ega .PdfObject ,_aaa =_dbg .parseObject ();if _aaa !=nil {return &_ega ,_aaa ;};_de .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");
}else {if _fca [0]=='e'{_cgbg ,_gcg :=_dbg .readTextLine ();if _gcg !=nil {return nil ,_gcg ;};if len (_cgbg )>=6&&_cgbg [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _fca [0]=='s'{_fca ,_ =_dbg ._fcc .Peek (10);if string (_fca [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_eeb :=6;
if len (_fca )> 6{if _db .IsWhiteSpace (_fca [_eeb ])&&_fca [_eeb ]!='\r'&&_fca [_eeb ]!='\n'{_de .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");
_eeb ++;};if _fca [_eeb ]=='\r'{_eeb ++;if _fca [_eeb ]=='\n'{_eeb ++;};}else if _fca [_eeb ]=='\n'{_eeb ++;};};_dbg ._fcc .Discard (_eeb );_gdg ,_ddbe :=_ega .PdfObject .(*_db .PdfObjectDictionary );if !_ddbe {return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");
};_de .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_gdg );_cab ,_fcba :=_gdg .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_db .PdfObjectInteger );if !_fcba {return nil ,_d .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");
};_edbb :=*_cab ;if _edbb < 0{return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_edbb )> _dbg ._afad {_de .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");
return nil ,_d .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_edbbd :=make ([]byte ,_edbb );
_ ,_aaa =_dbg .readAtLeast (_edbbd ,int (_edbb ));if _aaa !=nil {_de .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_edbbd ),_edbbd );_de .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_aaa );
return nil ,_aaa ;};_cda :=_db .PdfObjectStream {};_cda .Stream =_edbbd ;_cda .PdfObjectDictionary =_ega .PdfObject .(*_db .PdfObjectDictionary );_cda .ObjectNumber =_ega .ObjectNumber ;_cda .GenerationNumber =_ega .GenerationNumber ;_dbg .skipSpaces ();
_dbg ._fcc .Discard (9);_dbg .skipSpaces ();return &_cda ,nil ;};};_ega .PdfObject ,_aaa =_dbg .parseObject ();return &_ega ,_aaa ;};};_de .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");
return &_ega ,nil ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_db .PdfObjectDictionary ,error ){_c :=map[string ]*_db .PdfObjectDictionary {};for _ed :=0;_ed < fdf ._ab .Len ();_ed ++{_dbc ,_cg :=_db .GetDict (fdf ._ab .Get (_ed ));if _cg {_gd ,_ :=_db .GetString (_dbc .Get ("\u0054"));
if _gd !=nil {_c [_gd .Str ()]=_dbc ;};};};return _c ,nil ;};func (_ba *fdfParser )parseDict ()(*_db .PdfObjectDictionary ,error ){_de .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_abe :=_db .MakeDict ();
_dcd ,_ :=_ba ._fcc .ReadByte ();if _dcd !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_dcd ,_ =_ba ._fcc .ReadByte ();if _dcd !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");
};for {_ba .skipSpaces ();_ba .skipComments ();_dgf ,_fba :=_ba ._fcc .Peek (2);if _fba !=nil {return nil ,_fba ;};_de .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_dgf ),string (_dgf ));
if (_dgf [0]=='>')&&(_dgf [1]=='>'){_de .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_ba ._fcc .ReadByte ();_ba ._fcc .ReadByte ();break ;};_de .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");
_cdfe ,_fba :=_ba .parseName ();_de .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_cdfe );if _fba !=nil {_de .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_fba );
return nil ,_fba ;};if len (_cdfe )> 4&&_cdfe [len (_cdfe )-4:]=="\u006e\u0075\u006c\u006c"{_bbf :=_cdfe [0:len (_cdfe )-4];_de .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_cdfe );
_de .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_bbf );_ba .skipSpaces ();_ecca ,_ :=_ba ._fcc .Peek (1);if _ecca [0]=='/'{_abe .Set (_bbf ,_db .MakeNull ());continue ;};};_ba .skipSpaces ();
_dbca ,_fba :=_ba .parseObject ();if _fba !=nil {return nil ,_fba ;};_abe .Set (_cdfe ,_dbca );_de .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_cdfe ,_dbca .String ());};_de .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");
return _abe ,nil ;};func (_fded *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_fded ._eba .Seek (0,_bf .SeekStart );_fded ._fcc =_bd .NewReader (_fded ._eba );_dce :=20;_cdcg :=make ([]byte ,_dce );for {_caa ,_dgc :=_fded ._fcc .ReadByte ();if _dgc !=nil {if _dgc ==_bf .EOF {break ;
}else {return 0,0,_dgc ;};};if _db .IsDecimalDigit (_caa )&&_cdcg [_dce -1]=='.'&&_db .IsDecimalDigit (_cdcg [_dce -2])&&_cdcg [_dce -3]=='-'&&_cdcg [_dce -4]=='F'&&_cdcg [_dce -5]=='D'&&_cdcg [_dce -6]=='P'{_gcec :=int (_cdcg [_dce -2]-'0');_ggfb :=int (_caa -'0');
return _gcec ,_ggfb ,nil ;};_cdcg =append (_cdcg [1:_dce ],_caa );};return 0,0,_d .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func (_ebb *fdfParser )seekToEOFMarker (_fea int64 )error {_gae :=int64 (0);
_afec :=int64 (1000);for _gae < _fea {if _fea <=(_afec +_gae ){_afec =_fea -_gae ;};_ ,_efa :=_ebb ._eba .Seek (-_gae -_afec ,_bf .SeekEnd );if _efa !=nil {return _efa ;};_dbf :=make ([]byte ,_afec );_ebb ._eba .Read (_dbf );_de .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_dbf ));
_bfe :=_abdg .FindAllStringIndex (string (_dbf ),-1);if _bfe !=nil {_ebag :=_bfe [len (_bfe )-1];_de .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_bfe );_ebb ._eba .Seek (-_gae -_afec +int64 (_ebag [0]),_bf .SeekEnd );return nil ;};_de .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");
_gae +=_afec ;};_de .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _d .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");
};

// Load loads FDF form data from `r`.
func Load (r _bf .ReadSeeker )(*Data ,error ){_ebc ,_dd :=_fdf (r );if _dd !=nil {return nil ,_dd ;};_ff ,_dd :=_ebc .Root ();if _dd !=nil {return nil ,_dd ;};_be ,_abd :=_db .GetArray (_ff .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_abd {return nil ,_d .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");
};return &Data {_ab :_be ,_ad :_ff },nil ;};func (_dgd *fdfParser )parseArray ()(*_db .PdfObjectArray ,error ){_cdd :=_db .MakeArray ();_dgd ._fcc .ReadByte ();for {_dgd .skipSpaces ();_gdfa ,_afaa :=_dgd ._fcc .Peek (1);if _afaa !=nil {return _cdd ,_afaa ;
};if _gdfa [0]==']'{_dgd ._fcc .ReadByte ();break ;};_fdgg ,_afaa :=_dgd .parseObject ();if _afaa !=nil {return _cdd ,_afaa ;};_cdd .Append (_fdgg );};return _cdd ,nil ;};func (_dggf *fdfParser )parse ()error {_dggf ._eba .Seek (0,_bf .SeekStart );_dggf ._fcc =_bd .NewReader (_dggf ._eba );
for {_dggf .skipComments ();_agg ,_fbc :=_dggf ._fcc .Peek (20);if _fbc !=nil {_de .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");
return _fbc ;};if _b .HasPrefix (string (_agg ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_dggf ._fcc .Discard (7);_dggf .skipSpaces ();_dggf .skipComments ();_dfge ,_ :=_dggf .parseDict ();_dggf ._bg =_dfge ;break ;};_ccbe :=_gge .FindStringSubmatchIndex (string (_agg ));
if len (_ccbe )< 6{_de .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_agg ));
return _d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");
};_faae ,_fbc :=_dggf .parseIndirectObject ();if _fbc !=nil {return _fbc ;};switch _eegg :=_faae .(type ){case *_db .PdfIndirectObject :_dggf ._edc [_eegg .ObjectNumber ]=_eegg ;case *_db .PdfObjectStream :_dggf ._edc [_eegg .ObjectNumber ]=_eegg ;default:return _d .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");
};};return nil ;};

// Root returns the Root of the FDF document.
func (_bag *fdfParser )Root ()(*_db .PdfObjectDictionary ,error ){if _bag ._bg !=nil {if _gfcac ,_eca :=_bag .trace (_bag ._bg .Get ("\u0052\u006f\u006f\u0074")).(*_db .PdfObjectDictionary );_eca {if _dge ,_fff :=_bag .trace (_gfcac .Get ("\u0046\u0044\u0046")).(*_db .PdfObjectDictionary );
_fff {return _dge ,nil ;};};};var _gbf []int64 ;for _bbd :=range _bag ._edc {_gbf =append (_gbf ,_bbd );};_gf .Slice (_gbf ,func (_cabg ,_dcc int )bool {return _gbf [_cabg ]< _gbf [_dcc ]});for _ ,_cabc :=range _gbf {_ggf :=_bag ._edc [_cabc ];if _ccbdf ,_deb :=_bag .trace (_ggf ).(*_db .PdfObjectDictionary );
_deb {if _fgd ,_fcaa :=_bag .trace (_ccbdf .Get ("\u0046\u0044\u0046")).(*_db .PdfObjectDictionary );_fcaa {return _fgd ,nil ;};};};return nil ,_d .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_ddc *fdfParser )parseObject ()(_db .PdfObject ,error ){_de .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");
_ddc .skipSpaces ();for {_ffg ,_afc :=_ddc ._fcc .Peek (2);if _afc !=nil {return nil ,_afc ;};_de .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_ffg ));if _ffg [0]=='/'{_ccg ,_fcb :=_ddc .parseName ();
_de .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_ccg );return &_ccg ,_fcb ;}else if _ffg [0]=='('{_de .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _ddc .parseString ();}else if _ffg [0]=='['{_de .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");
return _ddc .parseArray ();}else if (_ffg [0]=='<')&&(_ffg [1]=='<'){_de .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _ddc .parseDict ();}else if _ffg [0]=='<'{_de .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");
return _ddc .parseHexString ();}else if _ffg [0]=='%'{_ddc .readComment ();_ddc .skipSpaces ();}else {_de .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_ffg ,_ =_ddc ._fcc .Peek (15);_dga :=string (_ffg );
_de .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_dga );if (len (_dga )> 3)&&(_dga [:4]=="\u006e\u0075\u006c\u006c"){_ece ,_ea :=_ddc .parseNull ();return &_ece ,_ea ;}else if (len (_dga )> 4)&&(_dga [:5]=="\u0066\u0061\u006cs\u0065"){_ggec ,_ccd :=_ddc .parseBool ();
return &_ggec ,_ccd ;}else if (len (_dga )> 3)&&(_dga [:4]=="\u0074\u0072\u0075\u0065"){_gcd ,_bef :=_ddc .parseBool ();return &_gcd ,_bef ;};_dad :=_fb .FindStringSubmatch (_dga );if len (_dad )> 1{_ffg ,_ =_ddc ._fcc .ReadBytes ('R');_de .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_ffg [:]));
_gbe ,_ade :=_gfa (string (_ffg ));return &_gbe ,_ade ;};_bga :=_bdd .FindStringSubmatch (_dga );if len (_bga )> 1{_de .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _ddc .parseNumber ();};_bga =_cc .FindStringSubmatch (_dga );
if len (_bga )> 1{_de .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_de .Log .Trace ("\u0025\u0020\u0073",_bga );return _ddc .parseNumber ();};_de .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_dga );
return nil ,_d .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");
};};};